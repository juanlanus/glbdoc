=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2014.05.09 12:10:49 =~=~=~=~=~=~=~=~=~=~=~=
login as: icdgd
Using keyboard-interactive authentication.
Password: 
Last login: Thu May  8 15:56:55 2014 from 172.16.10.74
Sun Microsystems Inc.   SunOS 5.10      Generic January 2005
You have new mail.
COBJVM=sun_142
JAVA_HOME=/usr/j2se
LD_LIBRARY_PATH=/usr/j2se/jre/lib/sparc:/usr/j2se/jre/lib/sparc/client:/usr/j2se/jre/lib/sparc/native_threads:/usr/j2se/jre/lib/sparc:/opt/mfocus/des/cobol/lib:/opt/IBM/db2/V9.7/lib:/export/home/db2inst1/sqllib/lib64:/export/home/db2inst1/sqllib/lib32
PATH=/usr/j2se/jre/sh:/usr/j2se/sh:/usr/j2se/bin:/usr/j2se/jre/bin:/opt/mfocus/des/cobol/lib:/opt/mfocus/des/cobol/bin:/usr/bin:/bin:/usr/bin:/d/iccol/desarrollo/macros:/d/iccol/desarrollo/utiles:/opt/bin:/usr/sbin:/usr/lib:/usr/ccs/bin:/opt/SUNWspro/bin:/usr/jdk/latest/bin:/usr/local/bin:/usr/j2se/bin:/usr/openwin/bin:.:/export/home/db2inst1/sqllib/bin:/export/home/db2inst1/sqllib/adm:/export/home/db2inst1/sqllib/misc
CLASSPATH=/opt/mfocus/des/cobol/lib/mfcobol.jar:.:/usr/j2se/jre/lib/rt.jar:/opt/mfocus/des/cobol/lib/mfimtk.jar:/opt/mfocus/des/cobol/lib/xerces.jar:/opt/mfocus/des/cobol/lib/castor-0_9_4_1-xml.jar:/opt/mfocus/des/cobol/lib/mfcobol.jar:/usr/j2se/jre/lib/dt.jar:/usr/j2se/jre/lib/rt.jar:/d/iccol/desarrollo/java/server:/export/home/db2inst1/sqllib/java/db2java.zip:/export/home/db2inst1/sqllib/java/db2jcc.jar:/export/home/db2inst1/sqllib/java/sqlj.zip:/export/home/db2inst1/sqllib/function:/export/home/db2inst1/sqllib/java/db2jcc_license_cu.jar:.
COBCPY=/opt/mfocus/des/cobol/cpylib:/opt/mfocus/des/cobol/cpylib:/d/iccol/desarrollo/copys/pais:/d/iccol/desarrollo/copys
Java version = 1.4.2_19
Java vendor = Sun Microsystems Inc.
Java OS name = SunOS
Java OS arch = sparc
Java OS version = 5.10

  ####    ####   #####   ######   ####
 #    #  #    #  #    #  #       #
 #       #    #  #    #  #####    ####
 #       #    #  #    #  #            #
 #    #  #    #  #    #  #       #    #
  ####    ####   #####   ######   ####

 #####
#     #   ####   #        ####   #    #  #####      #      ##
#        #    #  #       #    #  ##  ##  #    #     #     #  #
#        #    #  #       #    #  # ## #  #####      #    #    #
#        #    #  #       #    #  #    #  #    #     #    ######
#     #  #    #  #       #    #  #    #  #    #     #    #    #
 #####    ####   ######   ####   #    #  #####      #    #    #

 #####
#     #   ####   #    #  #####      #    #         ##     ####      #     ####
#        #    #  ##  ##  #    #     #    #        #  #   #    #     #    #    #
#        #    #  # ## #  #    #     #    #       #    #  #          #    #    #
#        #    #  #    #  #####      #    #       ######  #          #    #    #
#     #  #    #  #    #  #          #    #       #    #  #    #     #    #    #
 #####    ####   #    #  #          #    ######  #    #   ####      #     ####

 #####                                           #####  #         ###
#     #  #    #  #    #          #    #         #     # #    #   #   #
#        #    #  ##   #          #    #               # #    #  #     #
 #####   #    #  # #  #          #    #          #####  #    #  #     #
      #  #    #  #  # #          #    #   ###   #       ####### #     #
#     #  #    #  #   ##           #  #    ###   #            #   #   #
 #####    ####   #    # #######    ##     ###   #######      #    ###

icdgd@codes /d/iccol/desarrollo
$ . viseticdgd@codes /d/iccol/desarrollo
$ . viset
ksh: viseticdgd@codes:  not found
icdgd@codes /d/iccol/desarrollo
$ $ $ . viset
ksh: $:  not found
icdgd@codes /d/iccol/desarrollo
$ ls
-PER12-01-00DEM
*

$TEMPORALES-ICGLEY.CON
$TEMPORALES-ICGLEY.CON.idx
001009001-COB-006.txt
010047.20130131.T.DUPBDL
100055300703
17021.aif
172.24.2.7
20130715Formulario_0004
20140312MiDataCredito.zip
20609.aif
27
a
actualizacion
ALERTA_100005_1_BANCAMIA_X_GRUPOS.20131222
ALERTA_100005_2_AV_VILLAS_X_ENTIDAD.20140103.Z
ALERTA_100005_2_AV_VILLAS_X_ENTIDAD.20140215.Z
ALERTA_100005_2_AV_VILLAS_X_ENTIDAD.20140216.Z
ALERTA_100005_2_AV_VILLAS_X_ENTIDAD.20140217.Z
algo
analistas
ANALITICO1X.TXT
animator
archivos15Apr18Apr2013.zip
archtemp
arregla-maes
auditor
BD_EXTRACUPOS.h
BD_NOVEDAT.h
BD_SSO.h
BDACSN
BDACSN.idx
BDIDAN
BDIDAN.idx
BDIDIN
BDIDIN.idx
BDIEGARJ.log
BDIESN
BDIESN01
BDIIALEDB2.aif
BDIILAN
BDIILAN.idx
BDIREN
BDIREN01
BDLDI2.PROC
BDLDIM
BDLDIRESTR-n.log
BDLEST
BDLLDIRL.SAL
BDLLDIRL.SAL1
BDLLDIRL.SAL2
BDLPART
BDLPART.idx
binds
borra2
BORRAR.msg
borrar.sh
BSTRACE.XFH
busq-dcifra
c-cobdb2-use
campes
CARACTNEW.CBL
cataloga
cc
cccc
ccierr.log
ced.txt
ced1.txt
ced3.txt
ced5.txt
ced5.txt-
cedulas.log.idx
cedulas.txt.dlm
cgic.a
cgic.h
cgic107.tar.gz
cgicobol1
cgiesq
change.log
chequeo
CITIBURO
cobconfig
cobconfig-icimsd
cobconfig.20140320
cobconfig.gav
cobconfig.gjc
cobconfig.ok
cobconfig.pjv
cobconfig.rmb
cobconfig.vhf
cobjrun32.20140228.core
cobol-db2yyyy
CobolFico.jar
CobolFico.jar-ant
CobolFico.jar1
CobolFico.zip
comp_conver16
comp_conver32
comp_conver64
comp-pais
copys
copys-linea.zip
copyscopy1.fd
core
CQ10461P3-PER36-02NUM
CTLN97-BLQ.490028.SAL
CTLN97.490028.SAL
cvs-progr
daevalxxx.txt
daevalxxx.txt2
DAP
dar
database
datacas.log
datacas.txt
datos
DATOSBBVA
daviclientes.txt
dcutil_old.jar
dcutil.jar
dead.letter
deborrar1
DecisorWS Logs 2701201401.55.zip
demo
demo.class
demo.jar
demo.java
demo.txt
Dep-DatabaseReport.txt
Dep-LicenseReport.txt
deptos
Desinstalar
Desplegar
Desplegar_pruebas
Despliegue_Fallido
Dev-DatabaseReport.txt
Dev-LicenseReport.txt
direcciones
DTCBLQ.20140319.core
DTCBLQ.lst
DTCCON
DTCCON.idx
DTCMDF.20140502.core
env.txt
errs.txt
especiales
extfh-450.cfg
extfh-pes.cfg
extfh-pva.cfg
extfh-pva201311.cfg
extfh.cfg
extfh.cfg-20121108
extfh.cfg.20140320
EXTRAE.20140303.core
f0028.zipp
facturacion1-5sept.txt
file.txt.2014-02-18
fuentes
fuentes-especiales.zip
fuentes-linea.zip
gj1
Hello_Word
hs_err_pid19424.log
hs_err_pid20875.log
hs_err_pid27175.log
hs_err_pid5611.log
ICBCON
ICBCON.idx
iceprecol493.cbl
icestd65vc-reloaded.aif
ICGCON.20140407.core
ICGCPL-CAV.aif
ICGCPL.20140225.core
ICGCPL.20140327.core
ICGCPL.20140331.core
ICGCPL.20140403.core
ICGCPLPB.20140326.core
ICGCPLPB.20140327.core
ICGCPLPB.20140403.core
ICGCPLPB.20140409.core
ICGCPLPB.20140414.core
ICGCPLPB.20140506.core
ICGD12.aif
ICGD12V54.aif
ICGD22V37.aif
ICGD25.aif
ICGD27.aif
ICGD40.aif
ICGD60V12.aif
ICGD67D.ipf
ICGD67D.prf
ICGD89V02.aif
ICGDI2.aif
ICGFPRPB.aif
ICGFRP.20140228.core
ICGFRP.20140508.core
ICGFRPPB.20140224.core
ICGFRPPB.20140226.core
ICGFRPPB.20140303.core
ICGFRPPB.20140319.core
ICGFRPPB.20140508.core
ICGFRR.20140228.core
ICGFRR.20140508.core
ICGFRR.aif
ICGFRRPB.20140305.core
ICGFRS.20140310.core
ICGFRSPB.20140305.core
ICGFRV.20140228.core
ICGFRV.20140508.core
ICGFRVPB.20140224.core
ICGFRVPB.20140225.core
ICGFRVPB.20140305.core
ICGFRVPB.20140306.core
ICGFVLPB.20140224.core
ICGFVLPB.20140306.core
ICGKAR.20140321.core
ICGKAR.20140407.core
ICGKAR.aif
ICGKARPB.aif
ICGKARPB.eje
ICGMDF.20140303.core
ICGMDF.20140313.core
ICGMDF.20140320.core
ICGS06.20140223.core
ICGS07.aif
ICGSSO.20140228.core
ICJCAR.20140224.core
ICMCREBANK.201301.log
icregis
icrgd
icrpgd
ides-dario
IMSG-01.prn.log
install_stb.sh
jars
journal.txt.001
journal.txt.010
lista-usu
listados
listbatch.txt
listdemo.txt
listservers.txt
LOG-STRN-TIMESRV-20140221
LOGTRANS-20130307-003
LOGTRANS-20130319-001
LOGTRANS-20130509-001
LOGTRANS-20130527-001
LOGTRANS-20130607-001
LOGTRANS-20130625-001
LOGTRANS-20130626-001
LOGTRANS-20130723-001
LOGTRANS-20130809-001
LOGTRANS-20130823-001
LOGTRANS-20140123-001
LOGTRANS-20140123-002
LOGTRANS-20140326-001
macros
macros-linea.zip
mbox.icjamd
METPAS01.aif
mfpoll-172.24.2.206.txt
mfpoll.txt
monitoreo
nohup.out
objetos
ori
p15805-bbog.val-201404040809
p15805-bbog.val-201404040810
p15929580_72_SOLARIS64.zip
pasa-archivos.sh
pglbs-2
pglbs-2-GLBLS-2
pPER48.LOG
ppppp
prb
prb.file
pru10.val-20140307
pru10.valcontrol
pru101.val-201403071746
prueba_desa
rai
Requerimiento-camaras.zip
restore20140210
rmbA
RMBCURSOCCI.20140224.core
RMBSERVCCITCP.20140320.core.001
RMBSERVCCITCP.20140320.core.010
RMBSERVCCITCP.20140326.core
RMBSERVCCITCP.20140407.core
salida.txt
salida3.txt
script1
secretstuff
setup_visualcobol_deveclipse_2.1_suse_x86_64
sf
SGID
sh-CambioLeyendas.sh
sh-CARACTNEW
sh-ConsultaCamaras.log
sh-MERCADO-COLMENA-CONS
sol9-bfagent-7.1.1.3-0-0041-sparc-opt
stt
sxsecuritypack51.09_00_dev.tar.encr
sxsecuritypack51.09_00_server.tar.encr
Tablas_Parametros
Tablas_Parametros_Produccion
TBL-USER-UNICOS.TXT
temporales
TERAEN0
terminales
TESDB2.20140410.core
testsftp.sh
trabajo
truss-969-icgcon
usuarios
utiles
utiles-linea.zip
UTLADEXT.20140322.core
UTLADEXT.20140324.core
UTLADEXT.20140404.core
UTLESTACT.fecha
UTLLISHUE.20140404.core
utlucorcre.gnt
UTLULONGITUDES.CBL
viset
XFHLOG
xxyy.log
icdgd@codes /d/iccol/desarrollo
$ vi viset
"viset" 27 lines, 986 characters # Archivo por juan.lanus@globant.com
# instrucciones:
#  1- ejecutar al inicio de la sesión con "punto", asi:
#     . viset
#  2- efectos:
#     -establece la variable de entorno EXINIT (solamente mientras dure la sesioon
#con algunas opciones de conveniencia para el editor vi
#     -algunas de las opciones, (casi) todas las "map", no funcionan todavia
#     -ejecuta el comando sh-cambamb prunovedat
#     -escribe "viset running"
#

# si falta el "." al comienzo del comando escribe un banner y termina
if [ `echo $0` != "-ksh" ]
then
banner "falta el ."
else
echo viset running
  # establece opciones de vi
  EXINIT="set ignorecase nowrapscan showmode showmatch tabstop=4 shiftwidth=4 | map ^? ^H | map ^[[4~ $ |
map ^[[1~ 0 | map ^[[6~ ^F^F | map ^[[5~ ^B^B "
  export EXINIT
  # setea el ambiente de desarrollo
  . sh-camamb prunovedat
  # Achica el prompt a solo el directorio actual (OK mientras no cambio
  # de máquina o de usuario):
  PS1="$PWD $" export PS1
fi
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~"viset" 27 lines, 986 characters:qicdgd@codes /d/iccol/desarrollo
$ viset

 ######    ##    #        #####    ##            ######  #
 #        #  #   #          #     #  #           #       #
 #####   #    #  #          #    #    #          #####   #
 #       ######  #          #    ######          #       #                ###
 #       #    #  #          #    #    #          #       #                ###
 #       #    #  ######     #    #    #          ######  ######           ###

icdgd@codes /d/iccol/desarrollo
$ 
icdgd@codes /d/iccol/desarrollo
$ set -o
Current option settings
allexport        off
bgnice           on
emacs            off
errexit          off
gmacs            off
ignoreeof        off
interactive      on
keyword          off
markdirs         off
monitor          on
noexec           off
noclobber        on
noglob           off
nolog            off
notify           off
nounset          off
privileged       off
restricted       off
trackall         off
verbose          off
vi               on
viraw            off
xtrace           off
icdgd@codes /d/iccol/desarrollo
$ vi               on^C
icdgd@codes /d/iccol/desarrollo
$ co
icdgd@codes /d/iccol/desarrollo/copys
$ la BDIIALE*
ksh: la:  not found
icdgd@codes /d/iccol/desarrollo/copys
$ ^[  $ la BDIIALE*$ ls
BDIIALE-ANT.PROC                    BDIIALEDB2.DOC
BDIIALE-BDINDE-RGH.PROC             BDIIALEDB2.PROC
BDIIALE-BDINDE.PROC                 BDIIALEDB2.PROC.ORI
BDIIALE-BDINDE.PROC-OK1             BDIIALEDB2.WS
BDIIALE-BDINDE.PROC-OK2             BDIIALEJURAD.PROC
BDIIALE-BDINDE.PROC-OLD-2013-10-31  BDIIALEJURAD.WS
BDIIALE-BDINDE.WS                   BDIIALENEW.PROC
BDIIALE-PLANO.FD                    BDIIALENEW.PROC.F-OLD!
BDIIALE-PLANO.FS                    BDIIALENEW.WS
BDIIALE.FD                          BDIIALENW.PROC
BDIIALE.FS                          BDIIALEPR.PROC
BDIIALE.PROC                        BDIIALET7.PROC-DARIO
BDIIALE.PROC-V06                    BDIIALEV07.PROC
BDIIALE.PROC.20130913               BDIIALEV08.PROC
BDIIALE.WS                          BDIIALEV08.PROC.F-OLD!
BDIIALE.WS-V05
icdgd@codes /d/iccol/desarrollo/copys
$ ^[  $ ls BDIIALE*$            $ ls BDIIALE*$ ls -BDIIALE*$ ls -lBDIIALE*$ ls -l BDIIALE*
-rw-rw-r--   1 icvhfd   icdatacr   39919 Oct  5  2009 BDIIALE-ANT.PROC
-rw-rw-r--   1 icrgd    icdatacr    3367 Oct 24  2013 BDIIALE-BDINDE-RGH.PROC
-rw-rw-r--   1 icjdld   icdatacr    3468 Oct 31  2013 BDIIALE-BDINDE.PROC
-rwxrwxr-x   1 icjdld   icdatacr    3367 Nov 18 16:31 BDIIALE-BDINDE.PROC-OK1
-rw-rw-r--   1 icrgd    icdatacr    3468 Oct 31  2013 BDIIALE-BDINDE.PROC-OK2
-rw-rw-r--   1 icrgd    icdatacr    3367 Oct 31  2013 BDIIALE-BDINDE.PROC-OLD-2013-10-31
-rw-rw-r--   1 icrgd    icdatacr     464 Oct 21  2013 BDIIALE-BDINDE.WS
-rw-rw-r--   1 icrmbd   icdatacr     264 Apr 30 09:18 BDIIALE-PLANO.FD
-rw-rw-r--   1 icrmbd   icdatacr     289 Apr 29 18:26 BDIIALE-PLANO.FS
-rwxrwxr-x   1 icgjcd   icdatacr    1801 Nov 15  2006 BDIIALE.FD
-rwxrwxr-x   1 icgjcd   icdatacr     805 Apr  7  2005 BDIIALE.FS
-rw-rw-r--   1 icvhfd   icdatacr   44614 Apr 14 08:19 BDIIALE.PROC
-rw-rw-r--   1 icvhfd   icdatacr   40538 Oct  2  2009 BDIIALE.PROC-V06
-rw-rw-r--   1 icvhfd   icdatacr   42370 Sep 13  2013 BDIIALE.PROC.20130913
-rwxrwxr-x   1 icvhfd   icdatacr    5734 Sep 16  2013 BDIIALE.WS
-rwxrwxr-x   1 icvhfd   icdatacr    5268 Mar  2  2009 BDIIALE.WS-V05
-rw-rw-r--   1 icrmbd   icdatacr   14201 Apr 23 11:55 BDIIALEDB2.DOC
-rw-rw-r--   1 icrmbd   icdatacr   80020 Apr 30 18:30 BDIIALEDB2.PROC
-rw-rw-r--   1 icrmbd   icdatacr   98433 Apr 23 09:33 BDIIALEDB2.PROC.ORI
-rwxrwxr-x   1 icrmbd   icdatacr   11753 Apr 30 18:29 BDIIALEDB2.WS
-rw-rw-r--   1 icrmbd   icdatacr   51873 Apr  3 07:39 BDIIALEJURAD.PROC
-rwxrwxr-x   1 icrmbd   icdatacr    6157 Dec 19 17:22 BDIIALEJURAD.WS
-rw-rw-r--   1 icrmbd   icdatacr   48013 Apr 14 18:40 BDIIALENEW.PROC
-rw-rw-r--   1 icrmbd   icdatacr   41427 May 15  2013 BDIIALENEW.PROC.F-OLD!
-rwxrwxr-x   1 icrmbd   icdatacr    5760 Apr 14 11:06 BDIIALENEW.WS
-rw-rw-r--   1 icvhfd   icdatacr   40538 Oct  2  2009 BDIIALENW.PROC
-rw-rw-r--   1 icvhfd   icdatacr   40538 Oct 30  2013 BDIIALEPR.PROC
-rwxrwxrwx   1 icjdld   icdatacr   37589 Aug 22  2007 BDIIALET7.PROC-DARIO
-rw-rw-r--   1 icehad   icdatacr   42849 Oct 29  2013 BDIIALEV07.PROC
-rw-rw-r--   1 icehad   icdatacr   44614 Oct 30  2013 BDIIALEV08.PROC
-rw-rw-r--   1 icehad   icdatacr   44225 Oct 29  2013 BDIIALEV08.PROC.F-OLD!
icdgd@codes /d/iccol/desarrollo/copys
$ view BDIIALEJURAD.PROC
"BDIIALEJURAD.PROC" [Read only] 761 lines, 51873 characters REMARK* BDIIALE.PROC.v.0008
REMARK******************************************************************
REMARK* ESTE COPY CONTIENE CADA UNA DE LAS RUTINA QUE PERMITEN EXTRACTAR
REMARK* LAS ALERTAS DEL SISTEMA
REMARK*     "I" : ALERTAS INTERNAS, SE CALCULAN CON BASE A LA INF DE BD
REMARK*01=No se usa
REMARK*02=Alertas sobre el ICMCRE
REMARK*03=Alertas sobre el ICMCHK
REMARK*04=Alertas sobre doble identidad
REMARK*04=Alertas sobre vigencia de registraduria en 12
REMARK*     "F" : ALERTAS EXTERNAS FIJAS - LAS DETERMINA DATACREDITO SOLO
REMARK*REQUIEREN DEL REGISTRO 001 PARA SU DEFINICION. SE RECONOCEN
REMARK*POR TENER LA LETRA "S" EN EL CAMPO TEXTO-FIJO-BDIIALE
REMARK*01=el documento de identidad fue extraviado
REMARK*02=el documento de identidad fue robado
REMARK*03=actualmente reside fuera de colombia
REMARK*04=Ya ha sido victima de suplantaciones
REMARK*     "E" : ALERTAS EXTERNAS VARIABLES : UNA ENTIDAD PUEDE COLOCAR
REMARK*DIRECTAMENTE UNA ALERTA. EL SIGNIFICADO DE CADA UNA LAS
REMARK*DEBE COLOCAR DATACREDITO. CONTIENE REGISTRO HEADER (1)
REMARK*DATAHOST (2-10) Y TEXTO (11-XX)
REMARK*01=POR ASIGNAR
REMARK*02=POR ASIGNAR
REMARK*03=POR ASIGNAR
REMARK*04=POR ASIGNAR
REMARK*
REMARK******************************************************************
REMARK* RMB0002   * TIPALE: SE AMPLIA EL CONCEPTO DE ALERTAS, DE MODO QUE
REMARK* R.MARTINEZ* NO TENGAN QUE ESTAR EN EL ARCHIVO DE ALERTAS SINO QUE
REMARK* ABRIL/2006* SE PUEDAN GENERAR A PARTIR DE OTROS ARCHIVOS DE LA BD
REAMRK** SE DEFINEN LAS QUE APLICAN A UN PAS EN EL ICBSYS.INI
REMARK******************************************************************
REMARK* RMB0003   * CIU001: SE HABILTAN EL MANEJO DE DATAHOST Y SE AFINA
REMARK* R.MARTINEZ*EL CONCEPTO DEFINIENDO TIPO DE ALERTAS Y SU
REMARK* OCTUB/2006*RESPECTIVAS SECUENCIAS
REMARK**SE CONTROLA LA PRESENTACION DE ALERTAS SOLO
REAMRK**SI ESTAN HABILITADAS SEGUN TIPO DE CONSULTAS
REMARK******************************************************************
REMARK* RMB0004   * CIU002: AJUSTES NECESARIOS PARA CATALOGAR EN PRODUC-
REMARK* R.MARTINEZ*CION EL CONCEPTO DE ALERTAS POR TENER INFOR-
REMARK* MARZO/2007*MACION COMO CEDULA Y TAMBIN COMO NIT
REMARK******************************************************************
REMARK* RMB0005   * T7T501: MANEJO DE IDENTIFICACIONES QUE PASAN DE T7 A
REMARK* R.MARTINEZ*T5 CUANDO QUEDA UNA HUELLA DE CONSULTA. SE
REMARK* AGOS./2007*CREAN 2 ALERTAS: 6 -INDICA QUE NO HAY INFORMA
REMARK**CION EN BD DE VALIDACION Y 7-SI EL APELLIDO
REMARK**CON EL QUE SE VUELVE A CONSULTAR ES DIFERENTE
REMARK******************************************************************
REMARK* ABB0006   * ICGCPL: SE ADICIONA MANEJO DEL NUEVO PRODUCTO HC+  *"BDIIALEJURAD.PROC" [Read only] 761 lines, 51873 charactersREMARK******************************************************************
REMARK* ABB0006   * ICGCPL: SE ADICIONA MANEJO DEL NUEVO PRODUCTO HC+  *
REMARK* A.BERNAL  **
REMARK* SEPT./2009**
REMARK******************************************************************
* RMB0007     * INDE01 : SE MODIFICA LA ALARMA DE TENER INFO COMO*
* R.MARTINEZ  *TIPO 1 Y 2 A LA FIGURA DE INDEPENDIENTE *
* MAY/2013    *DONDE SE EXIGE ADICIONALMENTE QUE*
**COINCIDAN LOS NOMBRES PARA SACAR LA ALAR*
******************************************************************
* EHA0008     * INDE02 : SE INCLUYE ALERTA DE NO TEC CUANDO SE   *
* OCT/2013    * CQ.6807  CONSULTA UNA CEDULA POR PJ Y NO ES IND. *
******************************************************************
7000-RECORRER-BDIIALE.
REMARK******************************************************************
REMARK*7000-RECORRER-BDIIALE.
REMARK* PARA UNA IDENTIFICACION EN PARTICULAR SE REVISAN UNO A UNO LOS
REMARK* DIFERENTES TIPOS DE ALERTA QUE PUEDE TENER Y DE TENERLOS LOS EN-
REMARK* VIA A LA SECCION DE ALERTAS DEL INFORME. SOLO SE PRESENTAN LAS
REMARK* ALERTAS HABILITADAS PARA EL PAIS
REMARK******************************************************************MOVE 1 TO ENVIE.MOVE 0 TO CONT-LINEAS-BDIIALE.
CIU001     IF (ALEWEB-SYS = "SI" AND MOD-TAB = 0) ORRMB0003
CIU001(ALEDTH-SYS = "SI" AND MOD-TAB = 1 AND S-XML = 0) ORRMB0003
CIU001(ALEXML-SYS = "SI" AND MOD-TAB = 1 AND S-XML = 1)RMB0003
CIU001MOVE 1 TO IRMB0003
CIU001     ELSERMB0003
CIU001MOVE 40 TO IRMB0003
CIU001     END-IFRMB0003
CIU001     IF I = 1 AND MOD-TAB = 1 *> PARA DATHOST,XML,SERCEL ...RMB0003
CIU002AND  S-XML = 0RMB0004
CIU001MOVE SPACES TO INQ-COMANDO4RMB0003
CIU001UNSTRING MSG-ORIGINAL DELIMITED BY  ALL "[ALERTAS="RMB0003
CIU001INTO  INQ-FILLER INQ-COMANDO4RMB0003
CIU001IF INQ-COMANDO4(02:1) = "]"RMB0003
CIU001IF INQ-COMANDO4(1:1) NOT = "1"RMB0003
CIU001MOVE 40 TO IRMB0003
CIU001END-IFRMB0003
CIU001ELSERMB0003
CIU001MOVE 40 TO IRMB0003
CIU001END-IFRMB0003
CIU001     END-IF.RMB0003
CIU001     MOVE 1 TO ENVIE.RMB0003
CIU001     MOVE 0 TO CONT-LINEAS-BDIIALE.RMB0003
CIU001     PERFORM UNTIL I >= 40 OR V-ALERTA(I)=0RMB0003
CIU001EVALUATE V-ALERTA(I)RMB0003
TIPALEWHEN 1RMB0002
TIPALEPERFORM 7010-ALERTAS-BDIIALERMB0002"BDIIALEJURAD.PROC" [Read only] line 48 of 761 --6%-- TIPALEWHEN 1RMB0002
TIPALEPERFORM 7010-ALERTAS-BDIIALERMB0002
TIPALEWHEN 2RMB0002
TIPALEPERFORM 7020-ALERTAS-ICMCRERMB0002
TIPALEWHEN 3RMB0002
TIPALEPERFORM 7030-ALERTAS-ICMCHKRMB0002
TIPALEWHEN 4RMB0002
TIPALEPERFORM 7040-ALERTAS-DOBLE-IDENTIDADRMB0002
TIPALEWHEN 5RMB0002
TIPALEPERFORM 7050-ALERTAS-VIGENCIA-CEDRMB0002
T7T501WHEN 6RMB0005
T7T501IF FUE-UN-TIPO7 = 1RMB0005
T7T501PERFORM 7060-ALERTAS-NO-BDAIDERMB0005
T7T501END-IFRMB0005
T7T501WHEN 7RMB0005
T7T501IF FUE-UN-TIPO7 = 1RMB0005
T7T501PERFORM 7070-ALERTAS-APELLIDORMB0005
T7T501END-IFRMB0005
T7T501END-EVALUATERMB0005
TIPALEADD 1 TO IRMB0002
TIPALE     END-PERFORM.RMB0002
TIPALE     IF CONT-LINEAS-BDIIALE > 0RMB0002
TIPALEMOVE 1 TO RECRMB0002
TIPALEMOVE SPACESTO MOVIMIENTO-SRMB0002
TIPALEPERFORM 6700-CONT-CTARMB0002
T7T501MOVE 0 TO RECRMB0005
TIPALE     END-IF.RMB0002
TIPALE     IF ENVIE = 0RMB0002
TIPALEPERFORM 10900-ENVIA-CRCRRMB0002
TIPALE     END-IF.RMB0002

TIPALE 7010-ALERTAS-BDIIALE.RMB0002
REMARK*********************************************************************
REMARK*7010-ALERTAS-BDIIALE.
REMARK* SE RECORRE LAS POSIBLES ALERTAS PARA LA IDENTIFICACION BUSCADA,
REMARK* EXTRACTANDO LA INFORMACION DE "ENCABEZADO" , "CUERPO" y UN POSI
REMARK* DATAHOST QUE ESTA POR DEFINIR.
REMARK*********************************************************************IF ABIERTO-BDIIALE = 0OPEN INPUT  BDIIALEMOVE 1 TO ABIERTO-BDIIALE
YYYYYYPERFORM 8000-CARGAR-ALERTASDEF-BDIIALEEND-IF.
MOVE TIP-IDE-AUX-BDIIALE TO TIP-IDE-BDIIALE.MOVE NUM-IDE-AUX-BDIIALE TO NUM-IDE-BDIIALE.MOVE ZEROS  TO FUENTE-BDIIALEMOVE SPACES TO LLASEC-BDIIALE.MOVE 0 TO FIN-BDIIALE.
TIPALE     MOVE 0 TO PROCESAR-BDIIALE.RMB0002



TIPALE 7010-ALERTAS-BDIIALE.RMB0002
REMARK*********************************************************************
REMARK*7010-ALERTAS-BDIIALE.
REMARK* SE RECORRE LAS POSIBLES ALERTAS PARA LA IDENTIFICACION BUSCADA,
REMARK* EXTRACTANDO LA INFORMACION DE "ENCABEZADO" , "CUERPO" y UN POSI
REMARK* DATAHOST QUE ESTA POR DEFINIR.
REMARK*********************************************************************IF ABIERTO-BDIIALE = 0OPEN INPUT  BDIIALEMOVE 1 TO ABIERTO-BDIIALE
YYYYYYPERFORM 8000-CARGAR-ALERTASDEF-BDIIALEEND-IF.
MOVE TIP-IDE-AUX-BDIIALE TO TIP-IDE-BDIIALE.MOVE NUM-IDE-AUX-BDIIALE TO NUM-IDE-BDIIALE.MOVE ZEROS  TO FUENTE-BDIIALEMOVE SPACES TO LLASEC-BDIIALE.MOVE 0 TO FIN-BDIIALE.
TIPALE     MOVE 0 TO PROCESAR-BDIIALE.RMB0002START BDIIALE KEY > LLAVE-BDIIALEINVALID KEY
MOVE 1 TO FIN-BDIIALENOT INVALID KEY
READ BDIIALE   NEXT RECORD
AT END
MOVE 1 TO FIN-BDIIALEEND-READEND-START.
YYYYYY     MOVE 0 TO I-BDIIALE.
YYYYYY     MOVE SPACES TO M-ALEENV-BDIIALE.PERFORM UNTIL FIN-BDIIALE = 1 OR NUM-IDE-BDIIALE NOT =
NUM-IDE-AUX-BDIIALE OR
TIP-IDE-BDIIALE NOT =
TIP-IDE-AUX-BDIIALE
CIU001MOVE 1 TO PROCESAR-BDIIALERMB0003
CIU001PERFORM 7100-PROCESE-HEADER-BDIIALERMB0003
CIU001IF PROCESAR-BDIIALE = 1RMB0003
YYYYYYIF LLASEC-BDIIALE = SPACES
YYYYYYMOVE "E"TO TIPALE-AUX-BDIIALERMB0003
YYYYYYELSE
YYYYYYMOVE LLASEC-BDIIALE(1:1) TO TIPALE-AUX-BDIIALE
YYYYYYEND-IF
CIU001MOVE COD-ALERTA-BDIIALE TO CODALE-AUX-BDIIALERMB0003
YYYYYYADD 1 TO I-BDIIALE
YYYYYYMOVE TIPALE-AUX-BDIIALE TO
YYYYYYV-CODENV-BDIIALE(I-BDIIALE)(1:1)
YYYYYYMOVE CODALE-AUX-BDIIALE(1:3) TO
YYYYYYV-CODENV-BDIIALE(I-BDIIALE)(2:3)
YYYYYYMOVE FUENTE-BDIIALE TO
YYYYYYV-SUSENV-BDIIALE(I-BDIIALE)YYYYYYV-SUSENV-BDIIALE(I-BDIIALE)
CIU001IF MOD-TAB = 0RMB0003
CIU001PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0003
CIU001ELSERMB0003
CIU001PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0003
CIU001END-IFRMB0003
CIU001END-IFRMB0003READ BDIIALE   NEXT RECORDAT END
MOVE 1 TO FIN-BDIIALEEND-READ
END-PERFORM.
YYYYYY     IF TIP-CONSUL-ABD11 = 7
YYYYYYPERFORM 8000-VER-ALERTASDEF-BDIIALE
YYYYYY     END-IF.
TIPALE 7020-ALERTAS-ICMCRE.RMB0002
REMARK***********************************************************************
REMARK*7020-ALERTAS-ICMCRE.
REMARK* SE BUSCAN LAS ALERTAS QUE SE GENERAN SOBRE EL ARCHIVO DE CARTERA
REMARK* AL NO MOSTRAR UNA CUENTA MOROSA POR FALTA DE AUTORIZACIN
REMARK***********************************************************************
TIPALE     INITIALIZE LLAVE-MAES-CREDIT.RMB0002
TIPALE     MOVE TIP-ID     TO TIPO-ID-ABD07RMB0002
TIPALE     MOVE NUM-ID     TO NUM-ID-ABD07.RMB0002
TIPALE     MOVE 0 TO FIN-CREDIT.RMB0002
TIPALE     START MAESTRO-CREDIT KEY > LLAVE-MAES-CREDITRMB0002
TIPALEINVALID KEY MOVE 1 TO FIN-CREDITRMB0002
TIPALENOT INVALID KEYRMB0002
TIPALEREAD MAESTRO-CREDIT NEXT RECORD AT ENDRMB0002
TIPALEMOVE 1 TO FIN-CREDITRMB0002
TIPALEEND-READRMB0002
TIPALE     END-START.RMB0002
TIPALE     PERFORM UNTIL TIP-ID NOT = TIPO-ID-ABD07RMB0002
TIPALEOR NUM-ID NOT = NUM-ID-ABD07 OR FIN-CREDIT  = 1RMB0002
TIPALEIF IND-BLOQUEO-ABD07 = PAR-CODBLOALER ANDRMB0002
TIPALE(NOV-REPORT-ABD07 > 16 AND < 42    ORRMB0002
TIPALE(NOV-REPORT-ABD07 = 45 OR 47))RMB0002
TIPALEMOVE COD-SUS-ABD07 TO FUENTE-BDIIALERMB0002
TIPALEMOVE 0TO BLOQUEO-BDIIALERMB0002
TIPALEMOVE 1TO PROCESAR-BDIIALERMB0002
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FEC-VEN-BDIIALE     RMB0003
TIPALEMOVE FEC-NOVEDAD-ABD07 TO FECHA-AUX-SCORMB0002
TIPALEMOVE FECHA-AUX-SCO(1:2) TO MES-NOVRMB0002
TIPALEMOVE FECHA-AUX-SCO(3:2) TO ANO-NOVRMB0002
TIPALEIF ANO-NOV < 50RMB0002
TIPALEMOVE 20TO SIG-NOVRMB0002
TIPALEELSERMB0002
TIPALEMOVE 19TO SIG-NOVRMB0002
TIPALEEND-IFRMB0002TIPALEMOVE 19TO SIG-NOVRMB0002
TIPALEEND-IFRMB0002
CIU001MOVE 00000001 TO FEC-NOV-BDIIALERMB0003
CIU001FEC-REP-BDIIALERMB0003
CIU001MOVE FECHA-NOVEDAD07(1:6) TO FEC-NOV-BDIIALE(1:6)RMB0003
CIU001MOVE FECHA-NOVEDAD07(1:6) TO FEC-REP-BDIIALE(1:6)RMB0003
CIU001MOVE SPACESTO INF-DATAHOST-BDIIALERMB0003
TIPALEPERFORM 7100-PROCESE-HEADER-BDIIALERMB0002
TIPALEIF PROCESAR-BDIIALE = 1RMB0002
CIU001MOVE PAR-MSGBLOALER TO TEXTO1-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0003
CIU001IF MOD-TAB = 0RMB0003
CIU001PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0003
CIU001ELSERMB0003
CIU001MOVE "I" TO TIPALE-AUX-BDIIALERMB0003
CIU001MOVE  2  TO CODALE-AUX-BDIIALERMB0003
CIU001PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0003
CIU001END-IFRMB0003
TIPALEEND-IFRMB0002
TIPALEEND-IFRMB0002
TIPALEREAD MAESTRO-CREDIT  NEXT RECORD AT ENDRMB0002
TIPALEMOVE 1 TO FIN-CREDITRMB0002
TIPALEEND-READRMB0002
TIPALE     END-PERFORM.RMB0002

TIPALE 7030-ALERTAS-ICMCHK.RMB0002
REMARK******************************************************************
REMARK*7030-ALERTAS-ICMCHK.
REMARK* SE BUSCAN LAS ALERTAS QUE SE GENERAN SOBRE EL ARCHIVO DE CUENTAS
REMARK* CORRIENTES CUANDO NO SE MUESTRAN CUENTAS POR FALTA DE AUTORIZACION
REMARK******************************************************************
TIPALE     INITIALIZE LLAVE-MAES-CHECKRMB0002
TIPALE     MOVE TIP-ID     TO TIPO-ID-ABD06RMB0002
TIPALE     MOVE NUM-ID     TO NUM-ID-ABD06.RMB0002
TIPALE     MOVE 0 TO FIN-CHECKRMB0002
TIPALE     START MAESTRO-CHECK  KEY > LLAVE-MAES-CHECKRMB0002
TIPALEINVALID KEY MOVE 1 TO FIN-CHECKRMB0002
TIPALENOT INVALID KEYRMB0002
TIPALEREAD MAESTRO-CHECK  NEXT RECORD AT ENDRMB0002
TIPALEMOVE 1 TO FIN-CHECKRMB0002
TIPALEEND-READRMB0002
TIPALE     END-START.RMB0002
TIPALE     PERFORM UNTIL TIP-ID NOT = TIPO-ID-ABD06RMB0002
TIPALEOR NUM-ID NOT = NUM-ID-ABD06 OR FIN-CHECK   = 1RMB0002
TIPALEIF IND-BLOQUEO-ABD06 = PAR-CODBLOALERRMB0002
TIPALEMOVE COD-SUS-ABD06 TO FUENTE-BDIIALERMB0002
TIPALEMOVE 0TO BLOQUEO-BDIIALERMB0002
TIPALEMOVE 1TO PROCESAR-BDIIALERMB0002
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FEC-VEN-BDIIALE     RMB0003
TIPALE 7030-ALERTAS-ICMCHK.RMB0002
REMARK******************************************************************
REMARK*7030-ALERTAS-ICMCHK.
REMARK* SE BUSCAN LAS ALERTAS QUE SE GENERAN SOBRE EL ARCHIVO DE CUENTAS
REMARK* CORRIENTES CUANDO NO SE MUESTRAN CUENTAS POR FALTA DE AUTORIZACION
REMARK******************************************************************
TIPALE     INITIALIZE LLAVE-MAES-CHECKRMB0002
TIPALE     MOVE TIP-ID     TO TIPO-ID-ABD06RMB0002
TIPALE     MOVE NUM-ID     TO NUM-ID-ABD06.RMB0002
TIPALE     MOVE 0 TO FIN-CHECKRMB0002
TIPALE     START MAESTRO-CHECK  KEY > LLAVE-MAES-CHECKRMB0002
TIPALEINVALID KEY MOVE 1 TO FIN-CHECKRMB0002
TIPALENOT INVALID KEYRMB0002
TIPALEREAD MAESTRO-CHECK  NEXT RECORD AT ENDRMB0002
TIPALEMOVE 1 TO FIN-CHECKRMB0002
TIPALEEND-READRMB0002
TIPALE     END-START.RMB0002
TIPALE     PERFORM UNTIL TIP-ID NOT = TIPO-ID-ABD06RMB0002
TIPALEOR NUM-ID NOT = NUM-ID-ABD06 OR FIN-CHECK   = 1RMB0002
TIPALEIF IND-BLOQUEO-ABD06 = PAR-CODBLOALERRMB0002
TIPALEMOVE COD-SUS-ABD06 TO FUENTE-BDIIALERMB0002
TIPALEMOVE 0TO BLOQUEO-BDIIALERMB0002
TIPALEMOVE 1TO PROCESAR-BDIIALERMB0002
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FEC-VEN-BDIIALE     RMB0003
TIPALEMOVE FEC-NOVEDAD-ABD06 TO FECHA-AUX-SCORMB0002
TIPALEMOVE FECHA-AUX-SCO(1:2) TO MES-NOVRMB0002
TIPALEMOVE FECHA-AUX-SCO(3:2) TO ANO-NOVRMB0002
TIPALEIF ANO-NOV < 50RMB0002
TIPALEMOVE 20TO SIG-NOVRMB0002
TIPALEELSERMB0002
TIPALEMOVE 19TO SIG-NOVRMB0002
TIPALEEND-IFRMB0002
CIU001MOVE 00000001 TO FEC-NOV-BDIIALERMB0003
CIU001FEC-REP-BDIIALERMB0003
CIU001MOVE FECHA-NOVEDAD07(1:6) TO FEC-NOV-BDIIALE(1:6)RMB0003
CIU001MOVE FECHA-NOVEDAD07(1:6) TO FEC-REP-BDIIALE(1:6)RMB0003
CIU001MOVE SPACESTO INF-DATAHOST-BDIIALERMB0003
TIPALEPERFORM 7100-PROCESE-HEADER-BDIIALERMB0002
TIPALEIF PROCESAR-BDIIALE = 1RMB0002
CIU001MOVE PAR-MSGBLOALER TO TEXTO1-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0003
CIU001IF MOD-TAB = 0RMB0003
CIU001PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0003
CIU001ELSERMB0003
CIU001MOVE "I" TO TIPALE-AUX-BDIIALERMB0003
CIU001MOVE  3  TO CODALE-AUX-BDIIALERMB0003
CIU001PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0003
CIU001END-IFRMB0003
TIPALEEND-IFRMB0002
TIPALEEND-IFRMB0002TIPALEEND-IFRMB0002
TIPALEREAD MAESTRO-CHECK   NEXT RECORD AT ENDRMB0002
TIPALEMOVE 1 TO FIN-CHECKRMB0002
TIPALEEND-READRMB0002
TIPALE     END-PERFORM.RMB0002

TIPALE 7040-ALERTAS-DOBLE-IDENTIDAD.RMB0002
REMARK******************************************************************
REMARK*7040-ALERTAS-DOBLE-IDENTIDAD.
REMARK* SE BUSCA SI SE DEBE GENERAR LA ALERTA INFORMANDO QUE TIENE INFOR-
REMARK* MACION CONO CEDULA Y COMO NIT
REMARK******************************************************************
TIPALE     MOVE TIP-ID TO JRMB0002
TIPALE     IF TIP-ID = 1RMB0002
INDE02IF MIRO-SIES-INDEPENDIENTE-BDIIALE = 1EHA0008
INDE01MOVERMB0004
INDE01"EL CLIENTE TIENE ACTIVIDAD REGISTRADA COMO TITULAR"  RMB0007
INDE01TO TEXTO1-AUX-BDIIALERMB0004
INDE01MOVERMB0007
INDE01" CON ESTABLECIMIENTO DE COMERCIO" TO     RMB0007
INDE01TEXTO2-AUX-BDIIALERMB0007
INDE01ELSERMB0007
INDE01MOVERMB0004
INDE01"LA CEDULA TIENE HISTORIA DE CREDITO COMO NIT" TO     RMB0007
INDE01TEXTO1-AUX-BDIIALERMB0004
INDE01MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0007
INDE01END-IFRMB0007
TIPALEMOVE 2 TO TIP-IDRMB0002
TIPALE     ELSERMB0002
TIPALEIF TIP-ID = 2RMB0002
INDE01IF MIRO-SIES-INDEPENDIENTE-BDIIALE = 1RMB0007
INDE01MOVERMB0002
INDE01"EL CLIENTE TIENE ACTIVIDAD REGISTRADA COMO TITULAR"  RMB0007
INDE01TO TEXTO1-AUX-BDIIALERMB0004
INDE01MOVERMB0007
INDE01" CON ESTABLECIMIENTO DE COMERCIO" TO     RMB0007
INDE01TEXTO2-AUX-BDIIALERMB0007
INDE01ELSERMB0007
INDE02IF NUM-ID < 99999999 AND HAY-PERMISO-BDINDE = "S"    EHA0008
INDE02AND PRODUCTOS-DATAC = 60EHA0008
INDE02MOVEEHA0008
INDE02"EL CLIENTE NO TIENE ACTIVIDAD REGISTRADA COMO    "  EHA0008
INDE02TO TEXTO1-AUX-BDIIALEEHA0008
INDE02MOVEEHA0008
INDE02"TITULAR CON ESTABLECIMIENTO DE COMERCIO     " TO    EHA0008
INDE02TEXTO2-AUX-BDIIALEEHA0008
INDE02MOVE 0 TO MENS-ERREHA0008
INDE02ELSEEHA0008
INDE01MOVERMB0002





TIPALE 7040-ALERTAS-DOBLE-IDENTIDAD.RMB0002
REMARK******************************************************************
REMARK*7040-ALERTAS-DOBLE-IDENTIDAD.
REMARK* SE BUSCA SI SE DEBE GENERAR LA ALERTA INFORMANDO QUE TIENE INFOR-
REMARK* MACION CONO CEDULA Y COMO NIT
REMARK******************************************************************
TIPALE     MOVE TIP-ID TO JRMB0002
TIPALE     IF TIP-ID = 1RMB0002
INDE02IF MIRO-SIES-INDEPENDIENTE-BDIIALE = 1EHA0008
INDE01MOVERMB0004
INDE01"EL CLIENTE TIENE ACTIVIDAD REGISTRADA COMO TITULAR"  RMB0007
INDE01TO TEXTO1-AUX-BDIIALERMB0004
INDE01MOVERMB0007
INDE01" CON ESTABLECIMIENTO DE COMERCIO" TO     RMB0007
INDE01TEXTO2-AUX-BDIIALERMB0007
INDE01ELSERMB0007
INDE01MOVERMB0004
INDE01"LA CEDULA TIENE HISTORIA DE CREDITO COMO NIT" TO     RMB0007
INDE01TEXTO1-AUX-BDIIALERMB0004
INDE01MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0007
INDE01END-IFRMB0007
TIPALEMOVE 2 TO TIP-IDRMB0002
TIPALE     ELSERMB0002
TIPALEIF TIP-ID = 2RMB0002
INDE01IF MIRO-SIES-INDEPENDIENTE-BDIIALE = 1RMB0007
INDE01MOVERMB0002
INDE01"EL CLIENTE TIENE ACTIVIDAD REGISTRADA COMO TITULAR"  RMB0007
INDE01TO TEXTO1-AUX-BDIIALERMB0004
INDE01MOVERMB0007
INDE01" CON ESTABLECIMIENTO DE COMERCIO" TO     RMB0007
INDE01TEXTO2-AUX-BDIIALERMB0007
INDE01ELSERMB0007
INDE02IF NUM-ID < 99999999 AND HAY-PERMISO-BDINDE = "S"    EHA0008
INDE02AND PRODUCTOS-DATAC = 60EHA0008
INDE02MOVEEHA0008
INDE02"EL CLIENTE NO TIENE ACTIVIDAD REGISTRADA COMO    "  EHA0008
INDE02TO TEXTO1-AUX-BDIIALEEHA0008
INDE02MOVEEHA0008
INDE02"TITULAR CON ESTABLECIMIENTO DE COMERCIO     " TO    EHA0008
INDE02TEXTO2-AUX-BDIIALEEHA0008
INDE02MOVE 0 TO MENS-ERREHA0008
INDE02ELSEEHA0008
INDE01MOVERMB0002
INDE01"EL NIT TIENE HISTORIA DE CREDITO COMO CEDULA" TO   RMB0007
INDE01TEXTO1-AUX-BDIIALERMB0004
INDE01MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0007
INDE02END-IFEHA0008
INDE01END-IFRMB0007
TIPALEMOVE 1 TO TIP-IDRMB0002INDE01END-IFRMB0007
TIPALEMOVE 1 TO TIP-IDRMB0002
CIU002ELSERMB0004
CIU002MOVE 1 TO MENS-ERRRMB0004
TIPALEEND-IFRMB0002
TIPALE     END-IFRMB0002
INDE01     IF MENS-ERR = 0
INDE01IF MIRO-SIES-INDEPENDIENTE-BDIIALE = 0 *> NO BUSCO ANTES  RMB0007
INDE01PERFORM 2420-VERSITIENECTASRMB0007
INDE01ELSERMB0007
INDE01IF ES-INDEPENDIENTE-BDIIALE = 0 *> BUSCO Y NO ESRMB0007
INDE01MOVE 1 TO MENS-ERRRMB0007
INDE01END-IFRMB0007
INDE01END-IF
CIU002     END-IFRMB0004
CIU001     IF MENS-ERR = 0RMB0003
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-NOV-AUX-BDIIALE  RMB0003
CIU002*MOVE "B.D DATACREDITO" TO NOMFUE-LIN1-BDIIALERMB0004
CIU002MOVE "DATACREDITO    " TO NOMFUE1-AUX-BDIIALERMB0004
CIU002*MOVE SPACESTO NOMFUE-LIN2-BDIIALERMB0004
CIU002MOVE SPACESTO NOMFUE2-AUX-BDIIALERMB0004
CIU002MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-NOV-AUX-BDIIALE  RMB0004
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-VEN-AUX-BDIIALE  RMB0003
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-REP-AUX-BDIIALE  RMB0003
CIU001MOVE 990001TO FUENTE-AUX-BDIIALERMB0003
XXXXXXIF MIRO-SIES-INDEPENDIENTE-BDIIALE = 1RMB0007
XXXXXXMOVE 000001TO FUENTE-AUX-BDIIALE *> CAMARA  RMB0007
XXXXXXEND-IFRMB0007
CIU001MOVE SPACESTO INF-DATAHOST-AUX-BDIIALERMB0003
CIU001IF MOD-TAB = 0RMB0003
CIU001PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0003
CIU001ELSERMB0003
CIU001MOVE "I" TO TIPALE-AUX-BDIIALERMB0003
CIU001MOVE  4  TO CODALE-AUX-BDIIALERMB0003
INDE02IF NUM-ID < 99999999 AND HAY-PERMISO-BDINDE = "S"EHA0008
INDE02AND PRODUCTOS-DATAC = 60 ANDEHA0008
INDE02MIRO-SIES-INDEPENDIENTE-BDIIALE = 0EHA0008
INDE02MOVE  8  TO CODALE-AUX-BDIIALEEHA0008
INDE02MOVE 000001 TO FUENTE-AUX-BDIIALE *> CAMARAEHA0008
INDE02END-IFEHA0008
INDE02*IF PAR-NHDC-BDIIALE <> 0 ANDEHA0008
INDE02*(ES-INDEPENDIENTE-BDIIALE = 1 OREHA0008
INDE02*PAR-TEC-BDIIALE = 1)EHA0008
INDE02*MOVE 8 TO CODALE-AUX-BDIIALEEHA0008
INDE02*END-IFEHA0008
CIU001PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0003
CIU001END-IFRMB0003
TIPALE     END-IF.RMB0002
TIPALE     MOVE 0 TO MENS-ERR.RMB0002
TIPALE     MOVE J TO TIP-ID.RMB0002TIPALE     MOVE J TO TIP-ID.RMB00027050-ALERTAS-VIGENCIA-CED.
REMARK******************************************************************
REMARK*7050-ALERTAS-VIGENCIA-CED.
REMARK* SE GENERA ALERTA SI EL ESTADO DE VIGENCIA DE LA CEDULA COLOMBIANA
REAMRK* ES 12, LO QUE CORRESPONDE A LA PERDIDA DE DERECHOS POLITICOS
REMARK******************************************************************
TIPALE     IF TIP-ID = 1RMB0002
TIPALEIF ESTADO-VIG-BDIIREGI = 12RMB0002
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-NOV-AUX-BDIIALE RMB0003
CIU001MOVE "B.D DATACREDITO" TO NOMFUE1-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO NOMFUE2-AUX-BDIIALERMB0003
CIU001MOVE "REVISE VIGENCIA EN REGISTRADURIA NACIONAL" TORMB0003
CIU001TEXTO1-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0003
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-VEN-AUX-BDIIALE RMB0003
CUI001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-REP-AUX-BDIIALE RMB0003
CIU001MOVE 990001TO FUENTE-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO INF-DATAHOST-AUX-BDIIALE    RMB0003
CIU001IF MOD-TAB = 0RMB0003
CIU001PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0003
CIU001ELSERMB0003
CIU001MOVE "I" TO TIPALE-AUX-BDIIALERMB0003
CIU001MOVE  5  TO CODALE-AUX-BDIIALERMB0003
CIU001PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0003
CIU001END-IFRMB0003
TIPALEEND-IFRMB0002
TIPALE     END-IF.RMB0002
T7T501 7060-ALERTAS-NO-BDAIDE.RMB0005
REMARK******************************************************************
REMARK*7060-ALERTAS-NOREGISTRADURIA.
REMARK* SE GENERA ALERTA SI ES UN TIPO 7 CON CONSULTAS
REMARK******************************************************************
T7T501     EVALUATE TIP-IDRMB0005
T7T501WHEN 1RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE CEDULAS    " TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 2RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE NITS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 3RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE NITS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 4RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE EXTRANJEROS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501     END-EVALUATERMB0005
T7T501     MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-NOV-AUX-BDIIALE     RMB0005


REMARK******************************************************************
REMARK*7050-ALERTAS-VIGENCIA-CED.
REMARK* SE GENERA ALERTA SI EL ESTADO DE VIGENCIA DE LA CEDULA COLOMBIANA
REAMRK* ES 12, LO QUE CORRESPONDE A LA PERDIDA DE DERECHOS POLITICOS
REMARK******************************************************************
TIPALE     IF TIP-ID = 1RMB0002
TIPALEIF ESTADO-VIG-BDIIREGI = 12RMB0002
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-NOV-AUX-BDIIALE RMB0003
CIU001MOVE "B.D DATACREDITO" TO NOMFUE1-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO NOMFUE2-AUX-BDIIALERMB0003
CIU001MOVE "REVISE VIGENCIA EN REGISTRADURIA NACIONAL" TORMB0003
CIU001TEXTO1-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0003
CIU001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-VEN-AUX-BDIIALE RMB0003
CUI001MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-REP-AUX-BDIIALE RMB0003
CIU001MOVE 990001TO FUENTE-AUX-BDIIALERMB0003
CIU001MOVE SPACESTO INF-DATAHOST-AUX-BDIIALE    RMB0003
CIU001IF MOD-TAB = 0RMB0003
CIU001PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0003
CIU001ELSERMB0003
CIU001MOVE "I" TO TIPALE-AUX-BDIIALERMB0003
CIU001MOVE  5  TO CODALE-AUX-BDIIALERMB0003
CIU001PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0003
CIU001END-IFRMB0003
TIPALEEND-IFRMB0002
TIPALE     END-IF.RMB0002
T7T501 7060-ALERTAS-NO-BDAIDE.RMB0005
REMARK******************************************************************
REMARK*7060-ALERTAS-NOREGISTRADURIA.
REMARK* SE GENERA ALERTA SI ES UN TIPO 7 CON CONSULTAS
REMARK******************************************************************
T7T501     EVALUATE TIP-IDRMB0005
T7T501WHEN 1RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE CEDULAS    " TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 2RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE NITS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 3RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE NITS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 4RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE EXTRANJEROS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501     END-EVALUATERMB0005
T7T501     MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-NOV-AUX-BDIIALE     RMB0005
T7T501     MOVE "B.D DATACREDITO" TO NOMFUE1-AUX-BDIIALERMB0005
T7T501     MOVE SPACESTO NOMFUE2-AUX-BDIIALERMB0005
T7T501     MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0005

T7T501 7060-ALERTAS-NO-BDAIDE.RMB0005
REMARK******************************************************************
REMARK*7060-ALERTAS-NOREGISTRADURIA.
REMARK* SE GENERA ALERTA SI ES UN TIPO 7 CON CONSULTAS
REMARK******************************************************************
T7T501     EVALUATE TIP-IDRMB0005
T7T501WHEN 1RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE CEDULAS    " TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 2RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE NITS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 3RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE NITS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501WHEN 4RMB0005
T7T501MOVE "SIN INFORMACION EN ARCHIVO DE EXTRANJEROS" TORMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501     END-EVALUATERMB0005
T7T501     MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-NOV-AUX-BDIIALE     RMB0005
T7T501     MOVE "B.D DATACREDITO" TO NOMFUE1-AUX-BDIIALERMB0005
T7T501     MOVE SPACESTO NOMFUE2-AUX-BDIIALERMB0005
T7T501     MOVE SPACESTO TEXTO2-AUX-BDIIALERMB0005
T7T501     MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-VEN-AUX-BDIIALE     RMB0005
T7T501     MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-REP-AUX-BDIIALE     RMB0005
T7T501     MOVE 990001TO FUENTE-AUX-BDIIALERMB0005
T7T501     MOVE SPACESTO INF-DATAHOST-AUX-BDIIALERMB0005
T7T501     IF MOD-TAB = 0RMB0005
T7T501PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0005
T7T501     ELSERMB0005
T7T501MOVE "I" TO TIPALE-AUX-BDIIALERMB0005
T7T501MOVE  6  TO CODALE-AUX-BDIIALERMB0005
T7T501PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0005
T7T501     END-IF.RMB0005
T7T501 7070-ALERTAS-APELLIDO.RMB0005
REMARK******************************************************************
REMARK*7070-ALERTAS-APELLIDO.
REMARK* SE GENERA ALERTA SI PARA TIPO 7 CON CONSULTAS EL APELLIDO ES
REAMRK* DIFERENTE
REMARK******************************************************************
T7T501     MOVE 1 TO J.RMB0005
T7T501     PERFORM UNTIL J > TOT-CON OR J > 100RMB0005
T7T501MOVE V-CONSULTAS(J) TO REG-INDEXRMB0005
T7T501IF NOMBRE-COMPLETO <> APELLIDO-IND ANDRMB0005
T7T501NOMBRE-COMPLETO <> SPACES AND APELLIDO-IND <> SPACES   RMB0005
T7T501MOVE FEC-CONSUL-IND TO FECHA-RMBRMB0005
T7T501MOVE DIA-RMB TO DIA-AUXRMB0005
T7T501MOVE MES-RMB TO MES-AUXRMB0005
T7T501MOVE ANO-RMB TO ANO-AUXRMB0005T7T501 7070-ALERTAS-APELLIDO.RMB0005
REMARK******************************************************************
REMARK*7070-ALERTAS-APELLIDO.
REMARK* SE GENERA ALERTA SI PARA TIPO 7 CON CONSULTAS EL APELLIDO ES
REAMRK* DIFERENTE
REMARK******************************************************************
T7T501     MOVE 1 TO J.RMB0005
T7T501     PERFORM UNTIL J > TOT-CON OR J > 100RMB0005
T7T501MOVE V-CONSULTAS(J) TO REG-INDEXRMB0005
T7T501IF NOMBRE-COMPLETO <> APELLIDO-IND ANDRMB0005
T7T501NOMBRE-COMPLETO <> SPACES AND APELLIDO-IND <> SPACES   RMB0005
T7T501MOVE FEC-CONSUL-IND TO FECHA-RMBRMB0005
T7T501MOVE DIA-RMB TO DIA-AUXRMB0005
T7T501MOVE MES-RMB TO MES-AUXRMB0005
T7T501MOVE ANO-RMB TO ANO-AUXRMB0005
T7T501IF ANO-RMB < 95RMB0005
T7T501ADD  2000 TO ANO-AUXRMB0005
T7T501ELSERMB0005
T7T501ADD  1900 TO ANO-AUXRMB0005
T7T501END-IFRMB0005
T7T501MOVE FECHA-AUX  TO FECHA-NOV-AUX-BDIIALERMB0005
T7T501MOVE "B.D DATACREDITO" TO NOMFUE1-AUX-BDIIALERMB0005
T7T501MOVE SPACESTO NOMFUE2-AUX-BDIIALERMB0005
T7T501MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-VEN-AUX-BDIIALE RMB0005
T7T501MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-REP-AUX-BDIIALE RMB0005
T7T501MOVE 990001TO FUENTE-AUX-BDIIALERMB0005
T7T501MOVE SPACESTO INF-DATAHOST-AUX-BDIIALE    RMB0005
T7T501MOVE COD-SUSCRIP-IND TO COD-SUSCRIP-ABD02RMB0005
T7T501READ SUSCRIPTOR IGNORE LOCK NOT INVALID KEYRMB0005
T7T501MOVE "CONSULTADO POR" TO   RMB0005
T7T501TEXTO1-AUX-BDIIALERMB0005
T7T501STRING NOM-COR1-ABD02 DELIMITED BY SIZERMB0005
T7T501" "DELIMITED BY SIZERMB0005
T7T501NOM-COR2-ABD02 DELIMITED BY SIZERMB0005
T7T501INTO TEXTO1-AUX-BDIIALE(18:32)RMB0005
T7T501MOVE "CON APELLIDO DIFERENTE:  " TORMB0005
T7T501TEXTO2-AUX-BDIIALE   RMB0005
T7T501MOVE APELLIDO-IND TO TEXTO2-AUX-BDIIALE(28:15)RMB0005
T7T501IF MOD-TAB = 0RMB0005
T7T501PERFORM 7500-PROCESE-TEXTO-BDIIALERMB0005
T7T501ELSERMB0005
T7T501MOVE "I" TO TIPALE-AUX-BDIIALERMB0005
T7T501MOVE  7  TO CODALE-AUX-BDIIALERMB0005
T7T501PERFORM 7300-PROCESE-DATAHOST-BDIIALERMB0005
T7T501END-IFRMB0005
T7T501END-READRMB0005
T7T501END-IFRMB0005
T7T501ADD 1 TO JRMB0005
T7T501     END-PERFORM.RMB0005

7100-PROCESE-HEADER-BDIIALE.
REMARK******************************************************************
REMARK*7100-PROCESE-ENCABEZADO-BDIIALE.
REMARK* SE EXTRACTA LA INFORMACION DEL ENCABEZADO PARA SER COLOCADO
REMARK* EN LA SECCION DE ALERTAS.
REMARK******************************************************************MOVE FUENTE-BDIIALE TO COD-SUSCRIP-ABD02.READ SUSCRIPTOR IGNORE LOCKINVALID KEY
MOVE 0 TO PROCESAR-BDIIALENOT INVALID KEY
IF ESTADO-ABD02 = 1
PERFORM 7110-VENCIMIENTOS-BDIIALEELSE
MOVE 0 TO PROCESAR-BDIIALEEND-IFEND-READ.
7110-VENCIMIENTOS-BDIIALE.
REMARK******************************************************************
REMARK*7110-VENCIMIENTOS-BDIIALE.
REMARK* SE VERIFICA SI YA ES UNA LA ALERTA QUE HA CADUCADO PARA NO SACARLA
REMARK* MAS. O SI ESTA BLOQUEADA NO MOSTRARLA
REMARK******************************************************************
CIU001     MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-AUX-BDIIALERMB0003IF FEC-VEN-BDIIALE <  FECHA-AUX-BDIIALE OR
CIU001BLOQUEO-BDIIALE > 0RMB0003
TIPALEMOVE 0 TO PROCESAR-BDIIALERMB0002ELSE
CIU001MOVE FEC-NOV-BDIIALE TO FECHA-NOV-AUX-BDIIALERMB0003
CIU001MOVE FEC-VEN-BDIIALE TO FECHA-VEN-AUX-BDIIALERMB0003
CIU001MOVE FEC-REP-BDIIALE TO FECHA-REP-AUX-BDIIALERMB0003
CIU001MOVE FUENTE-BDIIALE  TO FUENTE-AUX-BDIIALERMB0003
CIU001MOVE NOM-COR1-ABD02  TO NOMFUE1-AUX-BDIIALERMB0003
CIU001MOVE NOM-COR2-ABD02  TO NOMFUE2-AUX-BDIIALERMB0003
CIU001MOVE LINEA1-BDIIALE  TO TEXTO1-AUX-BDIIALERMB0003
CIU001MOVE LINEA2-BDIIALE  TO TEXTO2-AUX-BDIIALERMB0003
CIU001MOVE INF-DATAHOST-BDIIALE TO INF-DATAHOST-AUX-BDIIALE     RMB0003END-IF.
7300-PROCESE-DATAHOST-BDIIALE.
REMARK******************************************************************
REMARK*7300-PROCESE-DATAHOST-BDIIALE.
REMARK*    EN ESTA RUTINA SE DEBE IR IMPLEMENTADO LOS DIFERENTES CASOS
REMARK*    QUE SE PUEDAN UTILIZAR EN EL FORMATO DATAHOST
REMARK******************************************************************
CIU001     IF S-XML = 0RMB0003
CIU001MOVE TIPALE-AUX-BDIIALE   TO DTH12-TIP-ALERTARMB0003
CIU001MOVE CODALE-AUX-BDIIALE   TO DTH12-COD-ALERTARMB0003
CIU001MOVE NOMFUE1-AUX-BDIIALE  TO DTH12-FUENTE1RMB0003
7100-PROCESE-HEADER-BDIIALE.
REMARK******************************************************************
REMARK*7100-PROCESE-ENCABEZADO-BDIIALE.
REMARK* SE EXTRACTA LA INFORMACION DEL ENCABEZADO PARA SER COLOCADO
REMARK* EN LA SECCION DE ALERTAS.
REMARK******************************************************************MOVE FUENTE-BDIIALE TO COD-SUSCRIP-ABD02.READ SUSCRIPTOR IGNORE LOCKINVALID KEY
MOVE 0 TO PROCESAR-BDIIALENOT INVALID KEY
IF ESTADO-ABD02 = 1
PERFORM 7110-VENCIMIENTOS-BDIIALEELSE
MOVE 0 TO PROCESAR-BDIIALEEND-IFEND-READ.
7110-VENCIMIENTOS-BDIIALE.
REMARK******************************************************************
REMARK*7110-VENCIMIENTOS-BDIIALE.
REMARK* SE VERIFICA SI YA ES UNA LA ALERTA QUE HA CADUCADO PARA NO SACARLA
REMARK* MAS. O SI ESTA BLOQUEADA NO MOSTRARLA
REMARK******************************************************************
CIU001     MOVE FUNCTION CURRENT-DATE(1:8) TO FECHA-AUX-BDIIALERMB0003IF FEC-VEN-BDIIALE <  FECHA-AUX-BDIIALE OR
CIU001BLOQUEO-BDIIALE > 0RMB0003
TIPALEMOVE 0 TO PROCESAR-BDIIALERMB0002ELSE
CIU001MOVE FEC-NOV-BDIIALE TO FECHA-NOV-AUX-BDIIALERMB0003
CIU001MOVE FEC-VEN-BDIIALE TO FECHA-VEN-AUX-BDIIALERMB0003
CIU001MOVE FEC-REP-BDIIALE TO FECHA-REP-AUX-BDIIALERMB0003
CIU001MOVE FUENTE-BDIIALE  TO FUENTE-AUX-BDIIALERMB0003
CIU001MOVE NOM-COR1-ABD02  TO NOMFUE1-AUX-BDIIALERMB0003
CIU001MOVE NOM-COR2-ABD02  TO NOMFUE2-AUX-BDIIALERMB0003
CIU001MOVE LINEA1-BDIIALE  TO TEXTO1-AUX-BDIIALERMB0003
CIU001MOVE LINEA2-BDIIALE  TO TEXTO2-AUX-BDIIALERMB0003
CIU001MOVE INF-DATAHOST-BDIIALE TO INF-DATAHOST-AUX-BDIIALE     RMB0003END-IF.
7300-PROCESE-DATAHOST-BDIIALE.
REMARK******************************************************************
REMARK*7300-PROCESE-DATAHOST-BDIIALE.
REMARK*    EN ESTA RUTINA SE DEBE IR IMPLEMENTADO LOS DIFERENTES CASOS
REMARK*    QUE SE PUEDAN UTILIZAR EN EL FORMATO DATAHOST
REMARK******************************************************************
CIU001     IF S-XML = 0RMB0003
CIU001MOVE TIPALE-AUX-BDIIALE   TO DTH12-TIP-ALERTARMB0003
CIU001MOVE CODALE-AUX-BDIIALE   TO DTH12-COD-ALERTARMB0003
CIU001MOVE NOMFUE1-AUX-BDIIALE  TO DTH12-FUENTE1RMB0003
CIU001MOVE NOMFUE2-AUX-BDIIALE  TO DTH12-FUENTE2RMB0003CIU001MOVE NOMFUE1-AUX-BDIIALE  TO DTH12-FUENTE1RMB0003
CIU001MOVE NOMFUE2-AUX-BDIIALE  TO DTH12-FUENTE2RMB0003
CIU001MOVE FECHA-NOV-AUX-BDIIALE   TO DTH12-FECHARMB0003
CIU001MOVE TEXTO1-AUX-BDIIALE    TO DTH12-LINEA1RMB0003
CIU001MOVE TEXTO2-AUX-BDIIALE    TO DTH12-LINEA2RMB0003
CIU001MOVE INF-DATAHOST-AUX-BDIIALE     TO DTH12-DATAHOSTRMB0003
CIU001MOVE DTHOST-12(1:80)TO MOVIMIENTO-SRMB0003
CIU001MOVE 1 TO RECRMB0003
CIU001PERFORM 6700-CONT-CTARMB0003
CIU001MOVE DTHOST-12(81:80)TO MOVIMIENTO-SRMB0003
CIU001     ELSERMB0003
ICGCPLIF INF-NHDCABB0006
ICGCPLPERFORM 7310-XML-18-NHDCABB0006
ICGCPLELSEABB0006
CIU001MOVE LLAVE-BDIIALETO XDTH12-LLAVERMB0003
CIU001MOVE FUENTE-AUX-BDIIALE   TO XDTH12-COD-FUENTERMB0003
CIU001MOVE NOMFUE1-AUX-BDIIALE  TO XDTH12-FUENTE1RMB0003
CIU001MOVE NOMFUE2-AUX-BDIIALE  TO XDTH12-FUENTE2RMB0003
CIU001MOVE 057TO XDTH12-PAISRMB0003
CIU001MOVE TIPALE-AUX-BDIIALE   TO XDTH12-TIP-ALERTARMB0003
CIU001MOVE CODALE-AUX-BDIIALE   TO XDTH12-COD-ALERTARMB0003
CIU001MOVE FECHA-NOV-AUX-BDIIALE   TO XDTH12-FECHARMB0003
CIU001MOVE FECHA-VEN-AUX-BDIIALE   TO XDTH12-FECHA-VENCRMB0003
CIU001MOVE FECHA-REP-AUX-BDIIALE   TO XDTH12-FECHA-MODIFRMB0003
CIU001MOVE TEXTO1-AUX-BDIIALETO XDTH12-LINEA1RMB0003
CIU001MOVE TEXTO2-AUX-BDIIALETO XDTH12-LINEA2RMB0003
CIU001MOVE INF-DATAHOST-AUX-BDIIALE     TO XDTH12-DATAHOSTRMB0003
CIU001MOVE 1 TO RECRMB0003
CIU001MOVE XDTHOST-12(1:80)  TO MOVIMIENTO-SRMB0003
CIU001PERFORM 6700-CONT-CTARMB0003
CIU001MOVE XDTHOST-12(81:80)  TO MOVIMIENTO-SRMB0003
CIU001MOVE 1 TO RECRMB0003
CIU001PERFORM 6700-CONT-CTARMB0003
CIU001MOVE XDTHOST-12(161:80)  TO MOVIMIENTO-SRMB0003
ICGCPLEND-IFABB0006
CIU001     END-IF.RMB0003
CIU001     MOVE 1 TO REC.RMB0003
CIU001     PERFORM 6700-CONT-CTARMB0003
CIU001     MOVE 0 TO REC.RMB0003
7500-PROCESE-TEXTO-BDIIALE.
REMARK******************************************************************
REMARK*7500-PROCESE-TEXTO-BDIIALE.
REMARK*  SE EXTRAE LA INFORMACION DEL "CUERPO" DE LA ALERTA PARA SER
REMARK*  INTEGRADA EN ESTA SECCION. LA INFORMACION ESTA COLOCADA EN UN
REMARK*  FORMATO LIBRE
REMARK******************************************************************ADD 1 TO CONT-LINEAS-BDIIALEIF CONT-LINEAS-BDIIALE = 1MOVE 4TO IND-CTAIF CONT-LINEAS-BDIIALE = 1MOVE 4TO IND-CTAMOVE TITULOS-BDIIALE    TO PANTALLAPERFORM 10900-ENVIA-CRCREND-IF.
CIU001     MOVE NOMFUE1-AUX-BDIIALE TO NOMFUE-LIN1-BDIIALERMB0003
CIU001     MOVE NOMFUE2-AUX-BDIIALE TO NOMFUE-LIN2-BDIIALERMB0003
CIU001     MOVE FECHA-NOV-AUX-BDIIALE TO FEC-NOV-LIN1-BDIIALERMB0003
CIU001     MOVE TEXTO1-AUX-BDIIALE TO TEXTO-LIN1-BDIIALERMB0003
CIU001     MOVE TEXTO2-AUX-BDIIALE TO TEXTO-LIN2-BDIIALERMB0003
CIU001     MOVE LINEA1-BDIIALE-TIT TO MOVIMIENTO-SRMB0003MOVE 1 TO REC.PERFORM 6700-CONT-CTA
CIU001     IF NOMFUE-LIN2-BDIIALE <> SPACES ORRMB0003
CIU001TEXTO-LIN2-BDIIALE <> SPACESRMB0003
CIU001MOVE 1 TO RECRMB0003
CIU001MOVE LINEA2-BDIIALE-TIT TO MOVIMIENTO-SRMB0003
CIU001PERFORM 6700-CONT-CTARMB0003
CIU001     END-IF.RMB0003MOVE 0 TO REC.
YYYYYY 8000-CARGAR-ALERTASDEF-BDIIALE.
REMARK*******************************************************************
REMARK*8000-CARGAR-ALERTASDEF-BDIIALE.
REMARK*    SE CARGAN EN MEMORIA TODOS LOS CODIGOS DE ALERTAS Y SUS
REMARK*    RESPECTIVA FUENTES DE LAS ALERTAS DEFINIDAS COMO DEFAULT
REMARK*******************************************************************
YYYYYY     MOVE 1 TO I-BDIIALE.
YYYYYY     MOVE 0 TO FIN-BDIIALE.
YYYYYY     READ BDIIALE NEXT AT END MOVE 1 TO FIN-BDIIALE.
YYYYYY     PERFORM UNTIL FIN-BDIIALE = 1 OR
YYYYYYLLAVE-BDIIALE(1:12) <> ZEROS
YYYYYYIF LLASEC-BDIIALE = SPACES
YYYYYYMOVE "E" TO V-CODADEF-BDIIALE(I-BDIIALE)(1:1)
YYYYYYELSE
YYYYYYMOVE LLASEC-BDIIALE(1:1) TO
YYYYYYV-CODADEF-BDIIALE(I-BDIIALE)(1:1)
YYYYYYEND-IF
YYYYYYMOVE COD-ALERTA-BDIIALE TO
YYYYYYV-CODADEF-BDIIALE(I-BDIIALE)(2:3)
YYYYYYMOVE FUENTE-BDIIALE TO
YYYYYYV-SUSADEF-BDIIALE(I-BDIIALE)
YYYYYYREAD BDIIALE NEXT AT END MOVE 1 TO FIN-BDIIALE
YYYYYYEND-READ
YYYYYY     END-PERFORM.
YYYYYY 8000-VER-ALERTASDEF-BDIIALE.
REMARK*******************************************************************
REMARK*    SE RECORREN TODAS LAS ALERTAS DEFINIDAS COMO DEFAULT Y SE
REMARK*    BUSCA SI FUERON ENVIADAS. EN CASO DE NO ENCONTRARLA SE
REMARK*    PROCEDE A ENVIAR LA DEFAULT LEYENDOLA DEL ARCHIVO DEREMARK*    BUSCA SI FUERON ENVIADAS. EN CASO DE NO ENCONTRARLA SE
REMARK*    PROCEDE A ENVIAR LA DEFAULT LEYENDOLA DEL ARCHIVO DE
REMARK*    ALERTAS.
REMARK*******************************************************************
YYYYYY     MOVE 1 TO I-BDIIALE.
YYYYYY     PERFORM UNTIL I-BDIIALE >= 100 OR
YYYYYYV-CODADEF-BDIIALE(I-BDIIALE) = SPACES
YYYYYYMOVE 1 TO J-BDIIALE
YYYYYYPERFORM UNTIL J-BDIIALE >=100 OR
YYYYYYV-CODENV-BDIIALE(J-BDIIALE) = SPACES
YYYYYYIF (V-CODENV-BDIIALE(J-BDIIALE) =
YYYYYYV-CODADEF-BDIIALE(I-BDIIALE) AND
YYYYYYV-SUSENV-BDIIALE (J-BDIIALE) =
YYYYYYV-SUSADEF-BDIIALE (I-BDIIALE))
YYYYYYMOVE 200 TO J-BDIIALE
YYYYYYELSE
YYYYYYADD 1 TO J-BDIIALE
YYYYYYEND-IF
YYYYYYEND-PERFORM
YYYYYYIF J-BDIIALE < 200 *> NO SE HABIA MANDADO LA ALARMA
YYYYYYMOVE 1 TO PROCESAR-BDIIALE
YYYYYYINITIALIZE LLAVE-BDIIALE
YYYYYYMOVE V-SUSADEF-BDIIALE(I-BDIIALE) TO
YYYYYYFUENTE-BDIIALE
YYYYYYMOVE SPACES     TO LLASEC-BDIIALE
YYYYYYMOVE V-CODADEF-BDIIALE(I-BDIIALE)(1:1) TO
YYYYYYLLASEC-BDIIALE
YYYYYYMOVE V-CODADEF-BDIIALE(I-BDIIALE)(2:3) TO
YYYYYYCOD-ALERTA-BDIIALE(1:3)
YYYYYYREAD BDIIALE
YYYYYYINVALID KEY
YYYYYYMOVE 0 TO PROCESAR-BDIIALE
YYYYYYEND-READ
YYYYYYIF PROCESAR-BDIIALE = 1
YYYYYYPERFORM 7100-PROCESE-HEADER-BDIIALE
YYYYYYIF LLASEC-BDIIALE = SPACES
YYYYYYMOVE "E" TO V-CODADEF-BDIIALE(I-BDIIALE)(1:1)
YYYYYYELSE
YYYYYYMOVE LLASEC-BDIIALE(1:1) TO
YYYYYYV-CODADEF-BDIIALE(I-BDIIALE)(1:1)
YYYYYYEND-IF
YYYYYYMOVE COD-ALERTA-BDIIALE TO CODALE-AUX-BDIIALE
YYYYYYIF PROCESAR-BDIIALE = 1
YYYYYYIF MOD-TAB = 0
YYYYYYPERFORM 7500-PROCESE-TEXTO-BDIIALE
YYYYYYELSE
YYYYYYPERFORM 7300-PROCESE-DATAHOST-BDIIALE
YYYYYYEND-IF
YYYYYYEND-IFREMARK*    SE RECORREN TODAS LAS ALERTAS DEFINIDAS COMO DEFAULT Y SE
REMARK*******************************************************************

YYYYYY 8000-VER-ALERTASDEF-BDIIALE.


YYYYYYPERFORM 7500-PROCESE-TEXTO-BDIIALE
YYYYYYELSE
YYYYYYPERFORM 7300-PROCESE-DATAHOST-BDIIALE
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYADD 1 TO I-BDIIALE
YYYYYY     END-PERFORM.
*ZZZZZ 1000-ESTRUCTURA-DE DATOS.
*ZZZZZ 01 M-GRUPOS-CLAVE.
*ZZZZZ    02 V-GRUPOS-CLAVE  OCCURS 21 TIMES  PIC XX . (PRODUCTO)
*ZZZZZ 01 M-ALE-GRU.
*ZZZZZ    02 FILLER OCCURS 1001 TIMES.
*ZZZZZ03 V-COD-ALE-GRUPIC X(4).
*ZZZZZ03 V-GRUPO-ALE-GRUPIC X(4).
*ZZZZZ03 V-APUNT-ALE-GRUPIC 9(4).
*ZZZZZ 01 M-ALERTAS.
*ZZZZZ    02 FILLER OCCURS 1001 TIMES.
*ZZZZZ03 V-COD-ALERTAPIC X(4).
*ZZZZZ03 V-NOMBRE-ALERTAPIC X(200).
*ZZZZZ03 V-SEQ-ALERTAPIC 9(4).
*ZZZZZ    02 M-USAR-ALERTA.
*ZZZZZ03 V-USAR-ALERTA OCCURS 1001 TIMES PIC 9(1).
*ZZZZZ
*ZZZZZ 1000-INICIAR-ALE-CLA-BDIIALE.
*ZZZZZ 1000-LLENAR-ALERTAS-BDIIALE.
*EMARK*    DE ACUERDO A LA CLAVE SE DEBEN LLENAR LOS PRODUCTOS
*EMARK*    ADICIONALES TIPO "ALERTA" EN EL VECTOR V-ALERTAS-CLAVE(I)
*ZZZZZ     IF NOM-CLA-ICBPRO-AUX(J) = "ALE"
*ZZZZZMOVE V-PROD-ADICIONAL-ABD09-R(N) TO V-GRUPOS-CLAVE(I-ALE)
*ZZZZZ     END-IF
*ZZZZZ     ADD 1 TO I-ALE
*ZZZZZ 1000-HABILITAR-ALERTAS-BDIIALE.
*EMARK*    SE REVISA CADA ALERTA PARA VER SI ESTA HABILIADA PARA ALGUN
*EMARK*    GRUPO DE LOS HABILITADOS EN LA CLAVE DEL CLIENTE
*EMARK*    SI ES ASI SE PRENDE EL FLAG V-USAR-ALERTA(I)
*ZZZZZ     MOVE ZEROS TO M-USAR-ALERTA.
*ZZZZZ     MOVE 1 TO I.
*ZZZZZ     PERFORM UNTIL V-GRUPOS-CLAVE(I) = SPACES
*ZZZZZMOVE 1 TO J
*ZZZZZPERFORM UNTIL V-COD-ALE-GRU (J) = SPACES OR J > 1000
*ZZZZZIF V-COD-ALE-GRU(J) = V-GRUPOS-CLAVE(I)
*ZZZZZMOVE V-APUNT-ALE-GRU(J) TO K
*ZZZZZMOVE 1 TO V-USAR-ALERTA(K)
*ZZZZZEND-IF
*ZZZZZADD 1 TO J
*ZZZZZEND-PERFORM
*ZZZZZADD 1 TO I
*ZZZZZEND-PERFORM
*ZZZZZADD 1 TO I
*ZZZZZ     END-PERFORM.
*ZZZZZ 1000-CLASIFICADOR-BDIIALE.
*ZZZZZ     MOVE 1 TO I.
*ZZZZZ     PERFORM UNTIL V-COD-ALERTA(I) = SPACES OR I > 1000
*ZZZZZIF V-USAR-ALERTA(I) = 1 AND V-SEQ-ALERTA(I) =  0001
*ZZZZZPERFORM 1000-ALERTA-0001-BDIIALE
*ZZZZZEND-IF
*ZZZZZIF V-USAR-ALERTA(I) = 1 AND V-COD-ALERTA(I) =  0002
*ZZZZZPERFORM 1000-ALERTA-0002-BDIIALE
*ZZZZZEND-IF
*ZZZZZIF V-USAR-ALERTA(I) = 1 AND V-COD-ALERTA(I) =  0003
*ZZZZZPERFORM 1000-ALERTA-0003-BDIIALE
*ZZZZZEND-IF
*ZZZZZADD 1 TO I
*ZZZZZ     END-PERFORM.
*ZZZZZ 1000-ALERTA-0001-BDIIALE.
*ZZZZZ 1000-ALERTA-0002-BDIIALE.
*ZZZZZ 1000-ALERTA-0003-BDIIALE.
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~YYYYYYPERFORM 7500-PROCESE-TEXTO-BDIIALE
YYYYYYELSE
YYYYYYPERFORM 7300-PROCESE-DATAHOST-BDIIALE
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYADD 1 TO I-BDIIALE
YYYYYY     END-PERFORM.
*ZZZZZ 1000-ESTRUCTURA-DE DATOS.
*ZZZZZ 01 M-GRUPOS-CLAVE.
*ZZZZZ    02 V-GRUPOS-CLAVE  OCCURS 21 TIMES  PIC XX . (PRODUCTO)
*ZZZZZ 01 M-ALE-GRU.
*ZZZZZ    02 FILLER OCCURS 1001 TIMES.
*ZZZZZ03 V-COD-ALE-GRUPIC X(4).
*ZZZZZ03 V-GRUPO-ALE-GRUPIC X(4).
*ZZZZZ03 V-APUNT-ALE-GRUPIC 9(4).
*ZZZZZ 01 M-ALERTAS.
*ZZZZZ    02 FILLER OCCURS 1001 TIMES.
*ZZZZZ03 V-COD-ALERTAPIC X(4).
*ZZZZZ03 V-NOMBRE-ALERTAPIC X(200).
*ZZZZZ03 V-SEQ-ALERTAPIC 9(4).
*ZZZZZ    02 M-USAR-ALERTA.
*ZZZZZ03 V-USAR-ALERTA OCCURS 1001 TIMES PIC 9(1).
*ZZZZZ
*ZZZZZ 1000-INICIAR-ALE-CLA-BDIIALE.
*ZZZZZ 1000-LLENAR-ALERTAS-BDIIALE.
*EMARK*    DE ACUERDO A LA CLAVE SE DEBEN LLENAR LOS PRODUCTOS
*EMARK*    ADICIONALES TIPO "ALERTA" EN EL VECTOR V-ALERTAS-CLAVE(I)
*ZZZZZ     IF NOM-CLA-ICBPRO-AUX(J) = "ALE"
*ZZZZZMOVE V-PROD-ADICIONAL-ABD09-R(N) TO V-GRUPOS-CLAVE(I-ALE)
*ZZZZZ     END-IF
*ZZZZZ     ADD 1 TO I-ALE
*ZZZZZ 1000-HABILITAR-ALERTAS-BDIIALE.
*EMARK*    SE REVISA CADA ALERTA PARA VER SI ESTA HABILIADA PARA ALGUN
*EMARK*    GRUPO DE LOS HABILITADOS EN LA CLAVE DEL CLIENTE
*EMARK*    SI ES ASI SE PRENDE EL FLAG V-USAR-ALERTA(I)
*ZZZZZ     MOVE ZEROS TO M-USAR-ALERTA.
*ZZZZZ     MOVE 1 TO I.
*ZZZZZ     PERFORM UNTIL V-GRUPOS-CLAVE(I) = SPACES
*ZZZZZMOVE 1 TO J
*ZZZZZPERFORM UNTIL V-COD-ALE-GRU (J) = SPACES OR J > 1000
*ZZZZZIF V-COD-ALE-GRU(J) = V-GRUPOS-CLAVE(I)
*ZZZZZMOVE V-APUNT-ALE-GRU(J) TO K
*ZZZZZMOVE 1 TO V-USAR-ALERTA(K)
*ZZZZZEND-IF
*ZZZZZADD 1 TO J
*ZZZZZEND-PERFORM
*ZZZZZADD 1 TO I*ZZZZZEND-PERFORM
*ZZZZZADD 1 TO I
*ZZZZZ     END-PERFORM.
*ZZZZZ 1000-CLASIFICADOR-BDIIALE.
*ZZZZZ     MOVE 1 TO I.
*ZZZZZ     PERFORM UNTIL V-COD-ALERTA(I) = SPACES OR I > 1000
*ZZZZZIF V-USAR-ALERTA(I) = 1 AND V-SEQ-ALERTA(I) =  0001
*ZZZZZPERFORM 1000-ALERTA-0001-BDIIALE
*ZZZZZEND-IF
*ZZZZZIF V-USAR-ALERTA(I) = 1 AND V-COD-ALERTA(I) =  0002
*ZZZZZPERFORM 1000-ALERTA-0002-BDIIALE
*ZZZZZEND-IF
*ZZZZZIF V-USAR-ALERTA(I) = 1 AND V-COD-ALERTA(I) =  0003
*ZZZZZPERFORM 1000-ALERTA-0003-BDIIALE
*ZZZZZEND-IF
*ZZZZZADD 1 TO I
*ZZZZZ     END-PERFORM.
*ZZZZZ 1000-ALERTA-0001-BDIIALE.
*ZZZZZ 1000-ALERTA-0002-BDIIALE.
*ZZZZZ 1000-ALERTA-0003-BDIIALE.
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~YYYYYYPERFORM 7500-PROCESE-TEXTO-BDIIALE
YYYYYYELSE
YYYYYYPERFORM 7300-PROCESE-DATAHOST-BDIIALE
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYEND-IF
YYYYYYADD 1 TO I-BDIIALE
YYYYYY     END-PERFORM.
*ZZZZZ 1000-ESTRUCTURA-DE DATOS.
*ZZZZZ 01 M-GRUPOS-CLAVE.
*ZZZZZ    02 V-GRUPOS-CLAVE  OCCURS 21 TIMES  PIC XX . (PRODUCTO)
*ZZZZZ 01 M-ALE-GRU.
*ZZZZZ    02 FILLER OCCURS 1001 TIMES.
*ZZZZZ03 V-COD-ALE-GRUPIC X(4).
*ZZZZZ03 V-GRUPO-ALE-GRUPIC X(4).
*ZZZZZ03 V-APUNT-ALE-GRUPIC 9(4).
*ZZZZZ 01 M-ALERTAS.
*ZZZZZ    02 FILLER OCCURS 1001 TIMES.
*ZZZZZ03 V-COD-ALERTAPIC X(4).
*ZZZZZ03 V-NOMBRE-ALERTAPIC X(200).
*ZZZZZ03 V-SEQ-ALERTAPIC 9(4).
*ZZZZZ    02 M-USAR-ALERTA.
*ZZZZZ03 V-USAR-ALERTA OCCURS 1001 TIMES PIC 9(1).
*ZZZZZ
*ZZZZZ 1000-INICIAR-ALE-CLA-BDIIALE.
*ZZZZZ 1000-LLENAR-ALERTAS-BDIIALE.
*EMARK*    DE ACUERDO A LA CLAVE SE DEBEN LLENAR LOS PRODUCTOS
*EMARK*    ADICIONALES TIPO "ALERTA" EN EL VECTOR V-ALERTAS-CLAVE(I)
*ZZZZZ     IF NOM-CLA-ICBPRO-AUX(J) = "ALE"
*ZZZZZMOVE V-PROD-ADICIONAL-ABD09-R(N) TO V-GRUPOS-CLAVE(I-ALE)
*ZZZZZ     END-IF
*ZZZZZ     ADD 1 TO I-ALE
*ZZZZZ 1000-HABILITAR-ALERTAS-BDIIALE.
*EMARK*    SE REVISA CADA ALERTA PARA VER SI ESTA HABILIADA PARA ALGUN
*EMARK*    GRUPO DE LOS HABILITADOS EN LA CLAVE DEL CLIENTE
*EMARK*    SI ES ASI SE PRENDE EL FLAG V-USAR-ALERTA(I)
*ZZZZZ     MOVE ZEROS TO M-USAR-ALERTA.
*ZZZZZ     MOVE 1 TO I.
*ZZZZZ     PERFORM UNTIL V-GRUPOS-CLAVE(I) = SPACES
*ZZZZZMOVE 1 TO J
*ZZZZZPERFORM UNTIL V-COD-ALE-GRU (J) = SPACES OR J > 1000
*ZZZZZIF V-COD-ALE-GRU(J) = V-GRUPOS-CLAVE(I)
*ZZZZZMOVE V-APUNT-ALE-GRU(J) TO K
*ZZZZZMOVE 1 TO V-USAR-ALERTA(K)
*ZZZZZEND-IF
*ZZZZZADD 1 TO J
*ZZZZZEND-PERFORM
*ZZZZZADD 1 TO I
:qicdgd@codes /d/iccol/desarrollo/copys
$ ^[  $ view BDIIALEJURAD.PROC$ ls -l BDIIALE*        $ 
-rw-rw-r--   1 icvhfd   icdatacr   39919 Oct  5  2009 BDIIALE-ANT.PROC
-rw-rw-r--   1 icrgd    icdatacr    3367 Oct 24  2013 BDIIALE-BDINDE-RGH.PROC
-rw-rw-r--   1 icjdld   icdatacr    3468 Oct 31  2013 BDIIALE-BDINDE.PROC
-rwxrwxr-x   1 icjdld   icdatacr    3367 Nov 18 16:31 BDIIALE-BDINDE.PROC-OK1
-rw-rw-r--   1 icrgd    icdatacr    3468 Oct 31  2013 BDIIALE-BDINDE.PROC-OK2
-rw-rw-r--   1 icrgd    icdatacr    3367 Oct 31  2013 BDIIALE-BDINDE.PROC-OLD-2013-10-31
-rw-rw-r--   1 icrgd    icdatacr     464 Oct 21  2013 BDIIALE-BDINDE.WS
-rw-rw-r--   1 icrmbd   icdatacr     264 Apr 30 09:18 BDIIALE-PLANO.FD
-rw-rw-r--   1 icrmbd   icdatacr     289 Apr 29 18:26 BDIIALE-PLANO.FS
-rwxrwxr-x   1 icgjcd   icdatacr    1801 Nov 15  2006 BDIIALE.FD
-rwxrwxr-x   1 icgjcd   icdatacr     805 Apr  7  2005 BDIIALE.FS
-rw-rw-r--   1 icvhfd   icdatacr   44614 Apr 14 08:19 BDIIALE.PROC
-rw-rw-r--   1 icvhfd   icdatacr   40538 Oct  2  2009 BDIIALE.PROC-V06
-rw-rw-r--   1 icvhfd   icdatacr   42370 Sep 13  2013 BDIIALE.PROC.20130913
-rwxrwxr-x   1 icvhfd   icdatacr    5734 Sep 16  2013 BDIIALE.WS
-rwxrwxr-x   1 icvhfd   icdatacr    5268 Mar  2  2009 BDIIALE.WS-V05
-rw-rw-r--   1 icrmbd   icdatacr   14201 Apr 23 11:55 BDIIALEDB2.DOC
-rw-rw-r--   1 icrmbd   icdatacr   80020 Apr 30 18:30 BDIIALEDB2.PROC
-rw-rw-r--   1 icrmbd   icdatacr   98433 Apr 23 09:33 BDIIALEDB2.PROC.ORI
-rwxrwxr-x   1 icrmbd   icdatacr   11753 Apr 30 18:29 BDIIALEDB2.WS
-rw-rw-r--   1 icrmbd   icdatacr   51873 Apr  3 07:39 BDIIALEJURAD.PROC
-rwxrwxr-x   1 icrmbd   icdatacr    6157 Dec 19 17:22 BDIIALEJURAD.WS
-rw-rw-r--   1 icrmbd   icdatacr   48013 Apr 14 18:40 BDIIALENEW.PROC
-rw-rw-r--   1 icrmbd   icdatacr   41427 May 15  2013 BDIIALENEW.PROC.F-OLD!
-rwxrwxr-x   1 icrmbd   icdatacr    5760 Apr 14 11:06 BDIIALENEW.WS
-rw-rw-r--   1 icvhfd   icdatacr   40538 Oct  2  2009 BDIIALENW.PROC
-rw-rw-r--   1 icvhfd   icdatacr   40538 Oct 30  2013 BDIIALEPR.PROC
-rwxrwxrwx   1 icjdld   icdatacr   37589 Aug 22  2007 BDIIALET7.PROC-DARIO
-rw-rw-r--   1 icehad   icdatacr   42849 Oct 29  2013 BDIIALEV07.PROC
-rw-rw-r--   1 icehad   icdatacr   44614 Oct 30  2013 BDIIALEV08.PROC
-rw-rw-r--   1 icehad   icdatacr   44225 Oct 29  2013 BDIIALEV08.PROC.F-OLD!
icdgd@codes /d/iccol/desarrollo/copys
$  view BDIIALENW.PROC
"BDIIALENW.PROC" [Read only] 552 lines, 40538 characters REMARK* BDIIALE.PROC.v.0006
REMARK******************************************************************
REMARK* ESTE COPY CONTIENE CADA UNA DE LAS RUTINA QUE PERMITEN EXTRACTAR
REMARK* LAS ALERTAS DEL SISTEMA
REMARK*     "I" : ALERTAS INTERNAS, SE CALCULAN CON BASE A LA INF DE BD
REMARK*01=No se usa
REMARK*02=Alertas sobre el ICMCRE
REMARK*03=Alertas sobre el ICMCHK
REMARK*04=Alertas sobre doble identidad
REMARK*04=Alertas sobre vigencia de registraduria en 12
REMARK*     "F" : ALERTAS EXTERNAS FIJAS - LAS DETERMINA DATACREDITO SOLO
REMARK*REQUIEREN DEL REGISTRO 001 PARA SU DEFINICION. SE RECONOCEN
REMARK*POR TENER LA LETRA "S" EN EL CAMPO TEXTO-FIJO-BDIIALE
REMARK*01=el documento de identidad fue extraviado
REMARK*02=el documento de identidad fue robado
REMARK*03=actualmente reside fuera de colombia
REMARK*04=Ya ha sido victima de suplantaciones
REMARK*     "E" : ALERTAS EXTERNAS VARIABLES : UNA ENTIDAD PUEDE COLOCAR
REMARK*DIRECTAMENTE UNA ALERTA. EL SIGNIFICADO DE CADA UNA LAS
REMARK*DEBE COLOCAR DATACREDITO. CONTIENE REGISTRO HEADER (1)
REMARK*DATAHOST (2-10) Y TEXTO (11-XX)
REMARK*01=POR ASIGNAR
REMARK*02=POR ASIGNAR
REMARK*03=POR ASIGNAR
REMARK*04=POR ASIGNAR
REMARK*
REMARK******************************************************************
REMARK* RMB0002   * TIPALE: SE AMPLIA EL CONCEPTO DE ALERTAS, DE MODO QUE
REMARK* R.MARTINEZ* NO TENGAN QUE ESTAR EN EL ARCHIVO DE ALERTAS SINO QUE
REMARK* ABRIL/2006* SE PUEDAN GENERAR A PARTIR DE OTROS ARCHIVOS DE LA BD
REAMRK** SE DEFINEN LAS QUE APLICAN A UN PAS EN EL ICBSYS.INI
REMARK******************************************************************
REMARK* RMB0003   * CIU001: SE HABILTAN EL MANEJO DE DATAHOST Y SE AFINA
REMARK* R.MARTINEZ*EL CONCEPTO DEFINIENDO TIPO DE ALERTAS Y SU
REMARK* OCTUB/2006*RESPECTIVAS SECUENCIAS
REMARK**SE CONTROLA LA PRESENTACION DE ALERTAS SOLO
REAMRK**SI ESTAN HABILITADAS SEGUN TIPO DE CONSULTAS
REMARK******************************************************************
REMARK* RMB0004   * CIU002: AJUSTES NECESARIOS PARA CATALOGAR EN PRODUC-
REMARK* R.MARTINEZ*CION EL CONCEPTO DE ALERTAS POR TENER INFOR-
REMARK* MARZO/2007*MACION COMO CEDULA Y TAMBIN COMO NIT
REMARK******************************************************************
REMARK* RMB0005   * T7T501: MANEJO DE IDENTIFICACIONES QUE PASAN DE T7 A
REMARK* R.MARTINEZ*T5 CUANDO QUEDA UNA HUELLA DE CONSULTA. SE
REMARK* AGOS./2007*CREAN 2 ALERTAS: 6 -INDICA QUE NO HAY INFORMA
REMARK**CION EN BD DE VALIDACION Y 7-SI EL APELLIDO
REMARK**CON EL QUE SE VUELVE A CONSULTAR ES DIFERENTE
REMARK******************************************************************
REMARK* ABB0006   * ICGCPL: SE ADICIONA MANEJO DEL NUEVO PRODUCTO HC+  *"BDIIALENW.PROC" [Read only] 552 lines, 40538 charactersrr:qNo write since last change (:quit! overrides)r:q!icdgd@codes /d/iccol/desarrollo/copys
$ ls | grep -i jurad
BDIIALEJURAD.PROC
BDIIALEJURAD.WS
icdgd@codes /d/iccol/desarrollo/copys
$ view BDIIALEJURAD.WS
"BDIIALEJURAD.WS" [Read only] 88 lines, 6157 characters * BDIIALE-WS.v01.0007
REMARK* VARIABLES RELACIONADAS CON LAS ALERTAS DEL SISTEMA
REMARK**************************************************************************
REMARK* RMB0002   * TIPALE: CREACION DE DIFERENTES TIPOS DE ALERTA, QUE SE
REMARK* R.MARTINEZ* PUEDEN GENERAR SOBRE DIFERENTES TIPOS DE INFORMACION
REMARK* ABRIL/2006* (ARCHIVOS)
REMARK*************************************************************************
REMARK* RMB0003   * CIU001: AJUSTES PARA MANEJO DE ALERTAS DE CIUDADANOS DE
REMARK* R.MARTINEZ* COLOMBIA.
REMARK* NOV./2006 *
REMARK*************************************************************************
REMARK* VHF0004     * REFCOM - SE AJUSTA EL TAMAO DE LAS LINEAS DE    *
REMARK* VICTOR HUGO *DETALLE DE ALERTA YA QUE SU TAMAO*
REMARK* FORERO*ESTABA DE 81 Y NO DE 80 QUE ES ESTANDAR *
REMARK* OCT.29/2008 **
REMARK******************************************************************
REMARK* GJC0005     * LEY001 - SE CAMBIA EL GUIN INICIAL DE LA PRESENTACION
REMARK* G.JIMENEZ   *DE LA ALEERTA POR UN ESPACIO EN BLANCO. ESTO
REMARK* MARZO 2/2009*PARA EVITAR QUE SE INTERPRETE COMO ALGO
REMARK**NEGATIVO
remark******************************************************************
REMARK* RMB0006     * INDE01 - SE AGREGA VARIABLE QUE INDICA QUE YA SE SABE
REMARK* R.MARTINEZ  *QUE LA OTRA IDENTIFICACION TIENE CUENTAS
REMARK* JUNIO 4/2013*PORQUE SE DETERMINO ANTES QUE ERA INDEPENDIENTE
REMARK******************************************************************
01 VARIABLES-BDIIALE.
XXXXXX    02 I-BDIIALEPIC 9(05)  VALUE 0.
XXXXXX    02 J-BDIIALEPIC 9(05)  VALUE 0.
INDE01    02 ES-INDEPENDIENTE-BDIIALEPIC 9(01) VALUE 0.RMB0006
INDE01    02 MIRO-SIES-INDEPENDIENTE-BDIIALE    PIC 9(01) VALUE 0.RMB0006
CIU001    02 MAES-BDIIALE-TITLE    PIC X(20)RMB0003
CIU001VALUE "$DATABASE/BDIIALE".RMB000302 EST-BDIIALEPIC X(02) VALUE "00".02 FIN-BDIIALEPIC 9(01) VALUE 0.
TIPALE    02 PROCESAR-BDIIALEPIC 9(01) VALUE 0.RMB000202 CONT-LINEAS-BDIIALE   PIC 9(03) VALUE 0.02 ABIERTO-BDIIALEPIC 9(01) VALUE 0.02 TIP-IDE-AUX-BDIIALE   PIC 9(01) VALUE 0.02 NUM-IDE-AUX-BDIIALE   PIC 9(11) VALUE 0.
REFCOM    02 MARCAR-ICBTCO-BDIIALE PIC 9(01) VALUE 0.VHF0004
CIU001    02 FECHA-AUX-BDIIALE     PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-NOV-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-VEN-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-REP-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FUENTE-AUX-BDIIALE    PIC 9(06) VALUE 0.RMB0003
CIU001    02 NOMFUE1-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 NOMFUE2-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 CODALE-AUX-BDIIALE    PIC 9(03) VALUE 0.RMB0003
CIU001    02 TIPALE-AUX-BDIIALE    PIC X(01) VALUE SPACES.RMB0003"BDIIALEJURAD.WS" [Read only] 88 lines, 6157 charactersCIU001    02 CODALE-AUX-BDIIALE    PIC 9(03) VALUE 0.RMB0003
CIU001    02 TIPALE-AUX-BDIIALE    PIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO1-AUX-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
CIU001    02 TEXTO2-AUX-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
CIU001    02 INF-DATAHOST-AUX-BDIIALEPIC X(18) VALUE SPACES.RMB0003
TIPALE    02 PAR-CODBLOALERPIC 9(1)  VALUE 1.RMB0002
TIPALE    02 PAR-MSGBLOALERPIC X(60) VALUERMB0002
TIPALE" ALERTA DADA POR LA ENTIDAD".RMB0002
TIPALE 01 M-ALERTA.RMB0002
TIPALE    03 V-ALERTA   OCCURS 40 TIMES PIC 9(02).RMB0002
01 TITULOS-BDIIALE.02 FILLERPIC X(30) VALUE ALL "=".02 FILLER    PIC X(20) VALUE "==== [ ALERTAS ] ===".02 FILLERPIC X(30) VALUE ALL "=".02 FILLER    PIC X(20) VALUE "FUENTEFEC".02 FILLER    PIC X(20) VALUE "HADESCRIP".02 FILLER    PIC X(20) VALUE "CION".02 FILLER    PIC X(20) VALUE "".02 FILLERPIC X(80) VALUE ALL "=".
CIU001 01 LINEA1-BDIIALE-TIT.RMB0003
LEY001    02 RAYA-BDIIALEPIC X(01) VALUE " ".GJC0005
CIU001    02 NOMFUE-LIN1-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 FEC-NOV-LIN1-BDIIALE  PIC X(11) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO-LIN1-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
REFCOM    02 FILLERPIC X(02) VALUE SPACES.VHF0004
CIU001 01 LINEA2-BDIIALE-TIT.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 NOMFUE-LIN2-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(11) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO-LIN2-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
REFCOM    02 FILLERPIC X(02) VALUE SPACES.VHF0004
XXXXXX 01 M-ALEENV-BDIIALE.
XXXXXX    02 V-CODENV-BDIIALE OCCURS 100 TIMES PIC X(4).
XXXXXX    02 V-SUSENV-BDIIALE OCCURS 100 TIMES PIC 9(6).
XXXXXX 01 M-ALEDEF-BDIIALE.
XXXXXX    02 V-CODADEF-BDIIALE  OCCURS 100 TIMES PIC X(4).
XXXXXX    02 V-SUSADEF-BDIIALE  OCCURS 100 TIMES PIC 9(6).
~
~
~
~
~
~
~
~* BDIIALE-WS.v01.0007
REMARK* VARIABLES RELACIONADAS CON LAS ALERTAS DEL SISTEMA
REMARK**************************************************************************
REMARK* RMB0002   * TIPALE: CREACION DE DIFERENTES TIPOS DE ALERTA, QUE SE
REMARK* R.MARTINEZ* PUEDEN GENERAR SOBRE DIFERENTES TIPOS DE INFORMACION
REMARK* ABRIL/2006* (ARCHIVOS)
REMARK*************************************************************************
REMARK* RMB0003   * CIU001: AJUSTES PARA MANEJO DE ALERTAS DE CIUDADANOS DE
REMARK* R.MARTINEZ* COLOMBIA.
REMARK* NOV./2006 *
REMARK*************************************************************************
REMARK* VHF0004     * REFCOM - SE AJUSTA EL TAMAO DE LAS LINEAS DE    *
REMARK* VICTOR HUGO *DETALLE DE ALERTA YA QUE SU TAMAO*
REMARK* FORERO*ESTABA DE 81 Y NO DE 80 QUE ES ESTANDAR *
REMARK* OCT.29/2008 **
REMARK******************************************************************
REMARK* GJC0005     * LEY001 - SE CAMBIA EL GUIN INICIAL DE LA PRESENTACION
REMARK* G.JIMENEZ   *DE LA ALEERTA POR UN ESPACIO EN BLANCO. ESTO
REMARK* MARZO 2/2009*PARA EVITAR QUE SE INTERPRETE COMO ALGO
REMARK**NEGATIVO
remark******************************************************************
REMARK* RMB0006     * INDE01 - SE AGREGA VARIABLE QUE INDICA QUE YA SE SABE
REMARK* R.MARTINEZ  *QUE LA OTRA IDENTIFICACION TIENE CUENTAS
REMARK* JUNIO 4/2013*PORQUE SE DETERMINO ANTES QUE ERA INDEPENDIENTE
REMARK******************************************************************
01 VARIABLES-BDIIALE.
XXXXXX    02 I-BDIIALEPIC 9(05)  VALUE 0.
XXXXXX    02 J-BDIIALEPIC 9(05)  VALUE 0.
INDE01    02 ES-INDEPENDIENTE-BDIIALEPIC 9(01) VALUE 0.RMB0006
INDE01    02 MIRO-SIES-INDEPENDIENTE-BDIIALE    PIC 9(01) VALUE 0.RMB0006
CIU001    02 MAES-BDIIALE-TITLE    PIC X(20)RMB0003
CIU001VALUE "$DATABASE/BDIIALE".RMB000302 EST-BDIIALEPIC X(02) VALUE "00".02 FIN-BDIIALEPIC 9(01) VALUE 0.
TIPALE    02 PROCESAR-BDIIALEPIC 9(01) VALUE 0.RMB000202 CONT-LINEAS-BDIIALE   PIC 9(03) VALUE 0.02 ABIERTO-BDIIALEPIC 9(01) VALUE 0.02 TIP-IDE-AUX-BDIIALE   PIC 9(01) VALUE 0.02 NUM-IDE-AUX-BDIIALE   PIC 9(11) VALUE 0.
REFCOM    02 MARCAR-ICBTCO-BDIIALE PIC 9(01) VALUE 0.VHF0004
CIU001    02 FECHA-AUX-BDIIALE     PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-NOV-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-VEN-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-REP-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FUENTE-AUX-BDIIALE    PIC 9(06) VALUE 0.RMB0003
CIU001    02 NOMFUE1-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 NOMFUE2-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 CODALE-AUX-BDIIALE    PIC 9(03) VALUE 0.RMB0003
CIU001    02 TIPALE-AUX-BDIIALE    PIC X(01) VALUE SPACES.RMB0003

REMARK******************************************************************01 VARIABLES-BDIIALE.
XXXXXX    02 I-BDIIALEPIC 9(05)  VALUE 0.
XXXXXX    02 J-BDIIALEPIC 9(05)  VALUE 0.
INDE01    02 ES-INDEPENDIENTE-BDIIALEPIC 9(01) VALUE 0.RMB0006
INDE01    02 MIRO-SIES-INDEPENDIENTE-BDIIALE    PIC 9(01) VALUE 0.RMB0006
CIU001    02 MAES-BDIIALE-TITLE    PIC X(20)RMB0003
CIU001VALUE "$DATABASE/BDIIALE".RMB000302 EST-BDIIALEPIC X(02) VALUE "00".02 FIN-BDIIALEPIC 9(01) VALUE 0.
TIPALE    02 PROCESAR-BDIIALEPIC 9(01) VALUE 0.RMB000202 CONT-LINEAS-BDIIALE   PIC 9(03) VALUE 0.02 ABIERTO-BDIIALEPIC 9(01) VALUE 0.02 TIP-IDE-AUX-BDIIALE   PIC 9(01) VALUE 0.02 NUM-IDE-AUX-BDIIALE   PIC 9(11) VALUE 0.
REFCOM    02 MARCAR-ICBTCO-BDIIALE PIC 9(01) VALUE 0.VHF0004
CIU001    02 FECHA-AUX-BDIIALE     PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-NOV-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-VEN-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-REP-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FUENTE-AUX-BDIIALE    PIC 9(06) VALUE 0.RMB0003
CIU001    02 NOMFUE1-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 NOMFUE2-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 CODALE-AUX-BDIIALE    PIC 9(03) VALUE 0.RMB0003
CIU001    02 TIPALE-AUX-BDIIALE    PIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO1-AUX-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
CIU001    02 TEXTO2-AUX-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
CIU001    02 INF-DATAHOST-AUX-BDIIALEPIC X(18) VALUE SPACES.RMB0003
TIPALE    02 PAR-CODBLOALERPIC 9(1)  VALUE 1.RMB0002
TIPALE    02 PAR-MSGBLOALERPIC X(60) VALUERMB0002
TIPALE" ALERTA DADA POR LA ENTIDAD".RMB0002
TIPALE 01 M-ALERTA.RMB0002
TIPALE    03 V-ALERTA   OCCURS 40 TIMES PIC 9(02).RMB0002
01 TITULOS-BDIIALE.02 FILLERPIC X(30) VALUE ALL "=".02 FILLER    PIC X(20) VALUE "==== [ ALERTAS ] ===".02 FILLERPIC X(30) VALUE ALL "=".02 FILLER    PIC X(20) VALUE "FUENTEFEC".02 FILLER    PIC X(20) VALUE "HADESCRIP".02 FILLER    PIC X(20) VALUE "CION".02 FILLER    PIC X(20) VALUE "".02 FILLERPIC X(80) VALUE ALL "=".
CIU001 01 LINEA1-BDIIALE-TIT.RMB0003
LEY001    02 RAYA-BDIIALEPIC X(01) VALUE " ".GJC0005
CIU001    02 NOMFUE-LIN1-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 FEC-NOV-LIN1-BDIIALE  PIC X(11) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO-LIN1-BDIIALE    PIC X(50) VALUE SPACES.RMB0003:qicdgd@codes /d/iccol/desarrollo/copys
$ ^[  $ view BDIIALEJURAD.WS$ ls | grep -i jurad  $ 
BDIIALEJURAD.PROC
BDIIALEJURAD.WS
icdgd@codes /d/iccol/desarrollo/copys
$ view BDIIALEJURAD.PROC
"BDIIALEJURAD.PROC" [Read only] 761 lines, 51873 characters REMARK* BDIIALE.PROC.v.0008
REMARK******************************************************************
REMARK* ESTE COPY CONTIENE CADA UNA DE LAS RUTINA QUE PERMITEN EXTRACTAR
REMARK* LAS ALERTAS DEL SISTEMA
REMARK*     "I" : ALERTAS INTERNAS, SE CALCULAN CON BASE A LA INF DE BD
REMARK*01=No se usa
REMARK*02=Alertas sobre el ICMCRE
REMARK*03=Alertas sobre el ICMCHK
REMARK*04=Alertas sobre doble identidad
REMARK*04=Alertas sobre vigencia de registraduria en 12
REMARK*     "F" : ALERTAS EXTERNAS FIJAS - LAS DETERMINA DATACREDITO SOLO
REMARK*REQUIEREN DEL REGISTRO 001 PARA SU DEFINICION. SE RECONOCEN
REMARK*POR TENER LA LETRA "S" EN EL CAMPO TEXTO-FIJO-BDIIALE
REMARK*01=el documento de identidad fue extraviado
REMARK*02=el documento de identidad fue robado
REMARK*03=actualmente reside fuera de colombia
REMARK*04=Ya ha sido victima de suplantaciones
REMARK*     "E" : ALERTAS EXTERNAS VARIABLES : UNA ENTIDAD PUEDE COLOCAR
REMARK*DIRECTAMENTE UNA ALERTA. EL SIGNIFICADO DE CADA UNA LAS
REMARK*DEBE COLOCAR DATACREDITO. CONTIENE REGISTRO HEADER (1)
REMARK*DATAHOST (2-10) Y TEXTO (11-XX)
REMARK*01=POR ASIGNAR
REMARK*02=POR ASIGNAR
REMARK*03=POR ASIGNAR
REMARK*04=POR ASIGNAR
REMARK*
REMARK******************************************************************
REMARK* RMB0002   * TIPALE: SE AMPLIA EL CONCEPTO DE ALERTAS, DE MODO QUE
REMARK* R.MARTINEZ* NO TENGAN QUE ESTAR EN EL ARCHIVO DE ALERTAS SINO QUE
REMARK* ABRIL/2006* SE PUEDAN GENERAR A PARTIR DE OTROS ARCHIVOS DE LA BD
REAMRK** SE DEFINEN LAS QUE APLICAN A UN PAS EN EL ICBSYS.INI
REMARK******************************************************************
REMARK* RMB0003   * CIU001: SE HABILTAN EL MANEJO DE DATAHOST Y SE AFINA
REMARK* R.MARTINEZ*EL CONCEPTO DEFINIENDO TIPO DE ALERTAS Y SU
REMARK* OCTUB/2006*RESPECTIVAS SECUENCIAS
REMARK**SE CONTROLA LA PRESENTACION DE ALERTAS SOLO
REAMRK**SI ESTAN HABILITADAS SEGUN TIPO DE CONSULTAS
REMARK******************************************************************
REMARK* RMB0004   * CIU002: AJUSTES NECESARIOS PARA CATALOGAR EN PRODUC-
REMARK* R.MARTINEZ*CION EL CONCEPTO DE ALERTAS POR TENER INFOR-
REMARK* MARZO/2007*MACION COMO CEDULA Y TAMBIN COMO NIT
REMARK******************************************************************
REMARK* RMB0005   * T7T501: MANEJO DE IDENTIFICACIONES QUE PASAN DE T7 A
REMARK* R.MARTINEZ*T5 CUANDO QUEDA UNA HUELLA DE CONSULTA. SE
REMARK* AGOS./2007*CREAN 2 ALERTAS: 6 -INDICA QUE NO HAY INFORMA
REMARK**CION EN BD DE VALIDACION Y 7-SI EL APELLIDO
REMARK**CON EL QUE SE VUELVE A CONSULTAR ES DIFERENTE
REMARK******************************************************************
REMARK* ABB0006   * ICGCPL: SE ADICIONA MANEJO DEL NUEVO PRODUCTO HC+  *"BDIIALEJURAD.PROC" [Read only] 761 lines, 51873 characters:qicdgd@codes /d/iccol/desarrollo/copys
$ ^L  cls
icdgd@codes /d/iccol/desarrollo/copys
$   ^[  $ kk  cls$ view BDIIALEJURAD.PROC$ ls | grep -i jurad    $ view BDIIALEJURAD.WS$ 
"BDIIALEJURAD.WS" [Read only] 88 lines, 6157 characters * BDIIALE-WS.v01.0007
REMARK* VARIABLES RELACIONADAS CON LAS ALERTAS DEL SISTEMA
REMARK**************************************************************************
REMARK* RMB0002   * TIPALE: CREACION DE DIFERENTES TIPOS DE ALERTA, QUE SE
REMARK* R.MARTINEZ* PUEDEN GENERAR SOBRE DIFERENTES TIPOS DE INFORMACION
REMARK* ABRIL/2006* (ARCHIVOS)
REMARK*************************************************************************
REMARK* RMB0003   * CIU001: AJUSTES PARA MANEJO DE ALERTAS DE CIUDADANOS DE
REMARK* R.MARTINEZ* COLOMBIA.
REMARK* NOV./2006 *
REMARK*************************************************************************
REMARK* VHF0004     * REFCOM - SE AJUSTA EL TAMAO DE LAS LINEAS DE    *
REMARK* VICTOR HUGO *DETALLE DE ALERTA YA QUE SU TAMAO*
REMARK* FORERO*ESTABA DE 81 Y NO DE 80 QUE ES ESTANDAR *
REMARK* OCT.29/2008 **
REMARK******************************************************************
REMARK* GJC0005     * LEY001 - SE CAMBIA EL GUIN INICIAL DE LA PRESENTACION
REMARK* G.JIMENEZ   *DE LA ALEERTA POR UN ESPACIO EN BLANCO. ESTO
REMARK* MARZO 2/2009*PARA EVITAR QUE SE INTERPRETE COMO ALGO
REMARK**NEGATIVO
remark******************************************************************
REMARK* RMB0006     * INDE01 - SE AGREGA VARIABLE QUE INDICA QUE YA SE SABE
REMARK* R.MARTINEZ  *QUE LA OTRA IDENTIFICACION TIENE CUENTAS
REMARK* JUNIO 4/2013*PORQUE SE DETERMINO ANTES QUE ERA INDEPENDIENTE
REMARK******************************************************************
01 VARIABLES-BDIIALE.
XXXXXX    02 I-BDIIALEPIC 9(05)  VALUE 0.
XXXXXX    02 J-BDIIALEPIC 9(05)  VALUE 0.
INDE01    02 ES-INDEPENDIENTE-BDIIALEPIC 9(01) VALUE 0.RMB0006
INDE01    02 MIRO-SIES-INDEPENDIENTE-BDIIALE    PIC 9(01) VALUE 0.RMB0006
CIU001    02 MAES-BDIIALE-TITLE    PIC X(20)RMB0003
CIU001VALUE "$DATABASE/BDIIALE".RMB000302 EST-BDIIALEPIC X(02) VALUE "00".02 FIN-BDIIALEPIC 9(01) VALUE 0.
TIPALE    02 PROCESAR-BDIIALEPIC 9(01) VALUE 0.RMB000202 CONT-LINEAS-BDIIALE   PIC 9(03) VALUE 0.02 ABIERTO-BDIIALEPIC 9(01) VALUE 0.02 TIP-IDE-AUX-BDIIALE   PIC 9(01) VALUE 0.02 NUM-IDE-AUX-BDIIALE   PIC 9(11) VALUE 0.
REFCOM    02 MARCAR-ICBTCO-BDIIALE PIC 9(01) VALUE 0.VHF0004
CIU001    02 FECHA-AUX-BDIIALE     PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-NOV-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-VEN-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FECHA-REP-AUX-BDIIALE PIC 9(08) VALUE 0.RMB0003
CIU001    02 FUENTE-AUX-BDIIALE    PIC 9(06) VALUE 0.RMB0003
CIU001    02 NOMFUE1-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 NOMFUE2-AUX-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 CODALE-AUX-BDIIALE    PIC 9(03) VALUE 0.RMB0003
CIU001    02 TIPALE-AUX-BDIIALE    PIC X(01) VALUE SPACES.RMB0003"BDIIALEJURAD.WS" [Read only] 88 lines, 6157 charactersCIU001    02 CODALE-AUX-BDIIALE    PIC 9(03) VALUE 0.RMB0003
CIU001    02 TIPALE-AUX-BDIIALE    PIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO1-AUX-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
CIU001    02 TEXTO2-AUX-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
CIU001    02 INF-DATAHOST-AUX-BDIIALEPIC X(18) VALUE SPACES.RMB0003
TIPALE    02 PAR-CODBLOALERPIC 9(1)  VALUE 1.RMB0002
TIPALE    02 PAR-MSGBLOALERPIC X(60) VALUERMB0002
TIPALE" ALERTA DADA POR LA ENTIDAD".RMB0002
TIPALE 01 M-ALERTA.RMB0002
TIPALE    03 V-ALERTA   OCCURS 40 TIMES PIC 9(02).RMB0002
01 TITULOS-BDIIALE.02 FILLERPIC X(30) VALUE ALL "=".02 FILLER    PIC X(20) VALUE "==== [ ALERTAS ] ===".02 FILLERPIC X(30) VALUE ALL "=".02 FILLER    PIC X(20) VALUE "FUENTEFEC".02 FILLER    PIC X(20) VALUE "HADESCRIP".02 FILLER    PIC X(20) VALUE "CION".02 FILLER    PIC X(20) VALUE "".02 FILLERPIC X(80) VALUE ALL "=".
CIU001 01 LINEA1-BDIIALE-TIT.RMB0003
LEY001    02 RAYA-BDIIALEPIC X(01) VALUE " ".GJC0005
CIU001    02 NOMFUE-LIN1-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 FEC-NOV-LIN1-BDIIALE  PIC X(11) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO-LIN1-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
REFCOM    02 FILLERPIC X(02) VALUE SPACES.VHF0004
CIU001 01 LINEA2-BDIIALE-TIT.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 NOMFUE-LIN2-BDIIALE   PIC X(14) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(11) VALUE SPACES.RMB0003
CIU001    02 FILLERPIC X(01) VALUE SPACES.RMB0003
CIU001    02 TEXTO-LIN2-BDIIALE    PIC X(50) VALUE SPACES.RMB0003
REFCOM    02 FILLERPIC X(02) VALUE SPACES.VHF0004
XXXXXX 01 M-ALEENV-BDIIALE.
XXXXXX    02 V-CODENV-BDIIALE OCCURS 100 TIMES PIC X(4).
XXXXXX    02 V-SUSENV-BDIIALE OCCURS 100 TIMES PIC 9(6).
XXXXXX 01 M-ALEDEF-BDIIALE.
XXXXXX    02 V-CODADEF-BDIIALE  OCCURS 100 TIMES PIC X(4).
XXXXXX    02 V-SUSADEF-BDIIALE  OCCURS 100 TIMES PIC 9(6).
~
~
~
~
~
~
~
~:qicdgd@codes /d/iccol/desarrollo/copys
$ 
shell will timeout in 60 seconds due to inactivity
ksh: timed out waiting for input
